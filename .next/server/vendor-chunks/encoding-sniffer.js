"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/encoding-sniffer";
exports.ids = ["vendor-chunks/encoding-sniffer"];
exports.modules = {

/***/ "(ssr)/./node_modules/encoding-sniffer/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/encoding-sniffer/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DecodeStream: () => (/* binding */ DecodeStream),\n/* harmony export */   decodeBuffer: () => (/* binding */ decodeBuffer),\n/* harmony export */   getEncoding: () => (/* reexport safe */ _sniffer_js__WEBPACK_IMPORTED_MODULE_2__.getEncoding)\n/* harmony export */ });\n/* harmony import */ var node_stream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:stream */ \"node:stream\");\n/* harmony import */ var iconv_lite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! iconv-lite */ \"(ssr)/./node_modules/iconv-lite/lib/index.js\");\n/* harmony import */ var _sniffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sniffer.js */ \"(ssr)/./node_modules/encoding-sniffer/dist/esm/sniffer.js\");\n\n\n\n/**\n * Sniff the encoding of a buffer, then decode it.\n *\n * @param buffer Buffer to be decoded\n * @param options Options for the sniffer\n * @returns The decoded buffer\n */\nfunction decodeBuffer(buffer, options = {}) {\n    return iconv_lite__WEBPACK_IMPORTED_MODULE_1__.decode(buffer, (0,_sniffer_js__WEBPACK_IMPORTED_MODULE_2__.getEncoding)(buffer, options));\n}\n/**\n * Decodes a stream of buffers into a stream of strings.\n *\n * Reads the first 1024 bytes and passes them to the sniffer. Once an encoding\n * has been determined, it passes all data to iconv-lite's stream and outputs\n * the results.\n */\nclass DecodeStream extends node_stream__WEBPACK_IMPORTED_MODULE_0__.Transform {\n    constructor(options) {\n        var _a;\n        super({ decodeStrings: false, encoding: \"utf-8\" });\n        this.buffers = [];\n        /** The iconv decode stream. If it is set, we have read more than `options.maxBytes` bytes. */\n        this.iconv = null;\n        this.readBytes = 0;\n        this.sniffer = new _sniffer_js__WEBPACK_IMPORTED_MODULE_2__.Sniffer(options);\n        this.maxBytes = (_a = options === null || options === void 0 ? void 0 : options.maxBytes) !== null && _a !== void 0 ? _a : 1024;\n    }\n    _transform(chunk, _encoding, callback) {\n        if (this.readBytes < this.maxBytes) {\n            this.sniffer.write(chunk);\n            this.readBytes += chunk.length;\n            if (this.readBytes < this.maxBytes) {\n                this.buffers.push(chunk);\n                callback();\n                return;\n            }\n        }\n        this.getIconvStream().write(chunk, callback);\n    }\n    getIconvStream() {\n        if (this.iconv) {\n            return this.iconv;\n        }\n        const stream = iconv_lite__WEBPACK_IMPORTED_MODULE_1__.decodeStream(this.sniffer.encoding);\n        stream.on(\"data\", (chunk) => this.push(chunk, \"utf-8\"));\n        stream.on(\"end\", () => this.push(null));\n        this.iconv = stream;\n        for (const buffer of this.buffers) {\n            stream.write(buffer);\n        }\n        this.buffers.length = 0;\n        return stream;\n    }\n    _flush(callback) {\n        this.getIconvStream().end(callback);\n    }\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZW5jb2Rpbmctc25pZmZlci9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0M7QUFDVDtBQUNxQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBDQUEwQztBQUNqRCxXQUFXLDhDQUFZLFNBQVMsd0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJCQUEyQixrREFBUztBQUMzQztBQUNBO0FBQ0EsZ0JBQWdCLHlDQUF5QztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnREFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzJDO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHl1c3QtY291cnNlLXNlbGVjdG9yLy4vbm9kZV9tb2R1bGVzL2VuY29kaW5nLXNuaWZmZXIvZGlzdC9lc20vaW5kZXguanM/MDcyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwibm9kZTpzdHJlYW1cIjtcbmltcG9ydCBpY29udiBmcm9tIFwiaWNvbnYtbGl0ZVwiO1xuaW1wb3J0IHsgU25pZmZlciwgZ2V0RW5jb2RpbmcgfSBmcm9tIFwiLi9zbmlmZmVyLmpzXCI7XG4vKipcbiAqIFNuaWZmIHRoZSBlbmNvZGluZyBvZiBhIGJ1ZmZlciwgdGhlbiBkZWNvZGUgaXQuXG4gKlxuICogQHBhcmFtIGJ1ZmZlciBCdWZmZXIgdG8gYmUgZGVjb2RlZFxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIHNuaWZmZXJcbiAqIEByZXR1cm5zIFRoZSBkZWNvZGVkIGJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlQnVmZmVyKGJ1ZmZlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGljb252LmRlY29kZShidWZmZXIsIGdldEVuY29kaW5nKGJ1ZmZlciwgb3B0aW9ucykpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgc3RyZWFtIG9mIGJ1ZmZlcnMgaW50byBhIHN0cmVhbSBvZiBzdHJpbmdzLlxuICpcbiAqIFJlYWRzIHRoZSBmaXJzdCAxMDI0IGJ5dGVzIGFuZCBwYXNzZXMgdGhlbSB0byB0aGUgc25pZmZlci4gT25jZSBhbiBlbmNvZGluZ1xuICogaGFzIGJlZW4gZGV0ZXJtaW5lZCwgaXQgcGFzc2VzIGFsbCBkYXRhIHRvIGljb252LWxpdGUncyBzdHJlYW0gYW5kIG91dHB1dHNcbiAqIHRoZSByZXN1bHRzLlxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoeyBkZWNvZGVTdHJpbmdzOiBmYWxzZSwgZW5jb2Rpbmc6IFwidXRmLThcIiB9KTtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIC8qKiBUaGUgaWNvbnYgZGVjb2RlIHN0cmVhbS4gSWYgaXQgaXMgc2V0LCB3ZSBoYXZlIHJlYWQgbW9yZSB0aGFuIGBvcHRpb25zLm1heEJ5dGVzYCBieXRlcy4gKi9cbiAgICAgICAgdGhpcy5pY29udiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZEJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5zbmlmZmVyID0gbmV3IFNuaWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWF4Qnl0ZXMgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWF4Qnl0ZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEwMjQ7XG4gICAgfVxuICAgIF90cmFuc2Zvcm0oY2h1bmssIF9lbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZEJ5dGVzIDwgdGhpcy5tYXhCeXRlcykge1xuICAgICAgICAgICAgdGhpcy5zbmlmZmVyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICAgIHRoaXMucmVhZEJ5dGVzICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWRCeXRlcyA8IHRoaXMubWF4Qnl0ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRJY29udlN0cmVhbSgpLndyaXRlKGNodW5rLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldEljb252U3RyZWFtKCkge1xuICAgICAgICBpZiAodGhpcy5pY29udikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWNvbnY7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gaWNvbnYuZGVjb2RlU3RyZWFtKHRoaXMuc25pZmZlci5lbmNvZGluZyk7XG4gICAgICAgIHN0cmVhbS5vbihcImRhdGFcIiwgKGNodW5rKSA9PiB0aGlzLnB1c2goY2h1bmssIFwidXRmLThcIikpO1xuICAgICAgICBzdHJlYW0ub24oXCJlbmRcIiwgKCkgPT4gdGhpcy5wdXNoKG51bGwpKTtcbiAgICAgICAgdGhpcy5pY29udiA9IHN0cmVhbTtcbiAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgdGhpcy5idWZmZXJzKSB7XG4gICAgICAgICAgICBzdHJlYW0ud3JpdGUoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG4gICAgX2ZsdXNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZ2V0SWNvbnZTdHJlYW0oKS5lbmQoY2FsbGJhY2spO1xuICAgIH1cbn1cbmV4cG9ydCB7IGdldEVuY29kaW5nIH0gZnJvbSBcIi4vc25pZmZlci5qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/encoding-sniffer/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/encoding-sniffer/dist/esm/sniffer.js":
/*!***********************************************************!*\
  !*** ./node_modules/encoding-sniffer/dist/esm/sniffer.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResultType: () => (/* binding */ ResultType),\n/* harmony export */   STRINGS: () => (/* binding */ STRINGS),\n/* harmony export */   Sniffer: () => (/* binding */ Sniffer),\n/* harmony export */   getEncoding: () => (/* binding */ getEncoding)\n/* harmony export */ });\n/* harmony import */ var whatwg_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! whatwg-encoding */ \"(ssr)/./node_modules/whatwg-encoding/lib/whatwg-encoding.js\");\n\n// https://html.spec.whatwg.org/multipage/syntax.html#prescan-a-byte-stream-to-determine-its-encoding\nvar State;\n(function (State) {\n    // Before anything starts; can be any of BOM, UTF-16 XML declarations or meta tags\n    State[State[\"Begin\"] = 0] = \"Begin\";\n    // Inside of a BOM\n    State[State[\"BOM16BE\"] = 1] = \"BOM16BE\";\n    State[State[\"BOM16LE\"] = 2] = \"BOM16LE\";\n    State[State[\"BOM8\"] = 3] = \"BOM8\";\n    // XML prefix\n    State[State[\"UTF16LE_XML_PREFIX\"] = 4] = \"UTF16LE_XML_PREFIX\";\n    State[State[\"BeginLT\"] = 5] = \"BeginLT\";\n    State[State[\"UTF16BE_XML_PREFIX\"] = 6] = \"UTF16BE_XML_PREFIX\";\n    // Waiting for opening `<`\n    State[State[\"BeforeTag\"] = 7] = \"BeforeTag\";\n    // After the opening `<`\n    State[State[\"BeforeTagName\"] = 8] = \"BeforeTagName\";\n    // After `</`\n    State[State[\"BeforeCloseTagName\"] = 9] = \"BeforeCloseTagName\";\n    // Beginning of a comment\n    State[State[\"CommentStart\"] = 10] = \"CommentStart\";\n    // End of a comment\n    State[State[\"CommentEnd\"] = 11] = \"CommentEnd\";\n    // A tag name that could be `meta`\n    State[State[\"TagNameMeta\"] = 12] = \"TagNameMeta\";\n    // A tag name that is not `meta`\n    State[State[\"TagNameOther\"] = 13] = \"TagNameOther\";\n    // XML declaration\n    State[State[\"XMLDeclaration\"] = 14] = \"XMLDeclaration\";\n    State[State[\"XMLDeclarationBeforeEncoding\"] = 15] = \"XMLDeclarationBeforeEncoding\";\n    State[State[\"XMLDeclarationAfterEncoding\"] = 16] = \"XMLDeclarationAfterEncoding\";\n    State[State[\"XMLDeclarationBeforeValue\"] = 17] = \"XMLDeclarationBeforeValue\";\n    State[State[\"XMLDeclarationValue\"] = 18] = \"XMLDeclarationValue\";\n    // Anything that looks like a tag, but doesn't fit in the above categories\n    State[State[\"WeirdTag\"] = 19] = \"WeirdTag\";\n    State[State[\"BeforeAttribute\"] = 20] = \"BeforeAttribute\";\n    /*\n     * Attributes in meta tag â€” we compare them to our set here, and back out\n     * We care about four attributes: http-equiv, content-type, content, charset\n     */\n    State[State[\"MetaAttribHttpEquiv\"] = 21] = \"MetaAttribHttpEquiv\";\n    // The value has to be `content-type`\n    State[State[\"MetaAttribHttpEquivValue\"] = 22] = \"MetaAttribHttpEquivValue\";\n    State[State[\"MetaAttribC\"] = 23] = \"MetaAttribC\";\n    State[State[\"MetaAttribContent\"] = 24] = \"MetaAttribContent\";\n    State[State[\"MetaAttribCharset\"] = 25] = \"MetaAttribCharset\";\n    // Waiting for whitespace\n    State[State[\"MetaAttribAfterName\"] = 26] = \"MetaAttribAfterName\";\n    State[State[\"MetaContentValueQuotedBeforeEncoding\"] = 27] = \"MetaContentValueQuotedBeforeEncoding\";\n    State[State[\"MetaContentValueQuotedAfterEncoding\"] = 28] = \"MetaContentValueQuotedAfterEncoding\";\n    State[State[\"MetaContentValueQuotedBeforeValue\"] = 29] = \"MetaContentValueQuotedBeforeValue\";\n    State[State[\"MetaContentValueQuotedValueQuoted\"] = 30] = \"MetaContentValueQuotedValueQuoted\";\n    State[State[\"MetaContentValueQuotedValueUnquoted\"] = 31] = \"MetaContentValueQuotedValueUnquoted\";\n    State[State[\"MetaContentValueUnquotedBeforeEncoding\"] = 32] = \"MetaContentValueUnquotedBeforeEncoding\";\n    State[State[\"MetaContentValueUnquotedBeforeValue\"] = 33] = \"MetaContentValueUnquotedBeforeValue\";\n    State[State[\"MetaContentValueUnquotedValueQuoted\"] = 34] = \"MetaContentValueUnquotedValueQuoted\";\n    State[State[\"MetaContentValueUnquotedValueUnquoted\"] = 35] = \"MetaContentValueUnquotedValueUnquoted\";\n    State[State[\"AnyAttribName\"] = 36] = \"AnyAttribName\";\n    // After the name of an attribute, before the equals sign\n    State[State[\"AfterAttributeName\"] = 37] = \"AfterAttributeName\";\n    // After `=`\n    State[State[\"BeforeAttributeValue\"] = 38] = \"BeforeAttributeValue\";\n    State[State[\"AttributeValueQuoted\"] = 39] = \"AttributeValueQuoted\";\n    State[State[\"AttributeValueUnquoted\"] = 40] = \"AttributeValueUnquoted\";\n})(State || (State = {}));\nvar ResultType;\n(function (ResultType) {\n    // Byte order mark\n    ResultType[ResultType[\"BOM\"] = 0] = \"BOM\";\n    // User- or transport layer-defined\n    ResultType[ResultType[\"PASSED\"] = 1] = \"PASSED\";\n    // XML prefixes\n    ResultType[ResultType[\"XML_PREFIX\"] = 2] = \"XML_PREFIX\";\n    // Meta tag\n    ResultType[ResultType[\"META_TAG\"] = 3] = \"META_TAG\";\n    // XML encoding\n    ResultType[ResultType[\"XML_ENCODING\"] = 4] = \"XML_ENCODING\";\n    // Default\n    ResultType[ResultType[\"DEFAULT\"] = 5] = \"DEFAULT\";\n})(ResultType || (ResultType = {}));\nvar AttribType;\n(function (AttribType) {\n    AttribType[AttribType[\"None\"] = 0] = \"None\";\n    AttribType[AttribType[\"HttpEquiv\"] = 1] = \"HttpEquiv\";\n    AttribType[AttribType[\"Content\"] = 2] = \"Content\";\n    AttribType[AttribType[\"Charset\"] = 3] = \"Charset\";\n})(AttribType || (AttribType = {}));\nvar Chars;\n(function (Chars) {\n    Chars[Chars[\"NIL\"] = 0] = \"NIL\";\n    Chars[Chars[\"TAB\"] = 9] = \"TAB\";\n    Chars[Chars[\"LF\"] = 10] = \"LF\";\n    Chars[Chars[\"CR\"] = 13] = \"CR\";\n    Chars[Chars[\"SPACE\"] = 32] = \"SPACE\";\n    Chars[Chars[\"EXCLAMATION\"] = 33] = \"EXCLAMATION\";\n    Chars[Chars[\"DQUOTE\"] = 34] = \"DQUOTE\";\n    Chars[Chars[\"SQUOTE\"] = 39] = \"SQUOTE\";\n    Chars[Chars[\"DASH\"] = 45] = \"DASH\";\n    Chars[Chars[\"SLASH\"] = 47] = \"SLASH\";\n    Chars[Chars[\"SEMICOLON\"] = 59] = \"SEMICOLON\";\n    Chars[Chars[\"LT\"] = 60] = \"LT\";\n    Chars[Chars[\"EQUALS\"] = 61] = \"EQUALS\";\n    Chars[Chars[\"GT\"] = 62] = \"GT\";\n    Chars[Chars[\"QUESTION\"] = 63] = \"QUESTION\";\n    Chars[Chars[\"UpperA\"] = 65] = \"UpperA\";\n    Chars[Chars[\"UpperZ\"] = 90] = \"UpperZ\";\n    Chars[Chars[\"LowerA\"] = 97] = \"LowerA\";\n    Chars[Chars[\"LowerZ\"] = 122] = \"LowerZ\";\n})(Chars || (Chars = {}));\nconst SPACE_CHARACTERS = new Set([Chars.SPACE, Chars.LF, Chars.CR, Chars.TAB]);\nconst END_OF_UNQUOTED_ATTRIBUTE_VALUE = new Set([\n    Chars.SPACE,\n    Chars.LF,\n    Chars.CR,\n    Chars.TAB,\n    Chars.GT,\n]);\nfunction toUint8Array(str) {\n    const arr = new Uint8Array(str.length);\n    for (let i = 0; i < str.length; i++) {\n        arr[i] = str.charCodeAt(i);\n    }\n    return arr;\n}\nconst STRINGS = {\n    UTF8_BOM: new Uint8Array([0xef, 0xbb, 0xbf]),\n    UTF16LE_BOM: new Uint8Array([0xff, 0xfe]),\n    UTF16BE_BOM: new Uint8Array([0xfe, 0xff]),\n    UTF16LE_XML_PREFIX: new Uint8Array([0x3c, 0x0, 0x3f, 0x0, 0x78, 0x0]),\n    UTF16BE_XML_PREFIX: new Uint8Array([0x0, 0x3c, 0x0, 0x3f, 0x0, 0x78]),\n    XML_DECLARATION: toUint8Array(\"<?xml\"),\n    ENCODING: toUint8Array(\"encoding\"),\n    META: toUint8Array(\"meta\"),\n    HTTP_EQUIV: toUint8Array(\"http-equiv\"),\n    CONTENT: toUint8Array(\"content\"),\n    CONTENT_TYPE: toUint8Array(\"content-type\"),\n    CHARSET: toUint8Array(\"charset\"),\n    COMMENT_START: toUint8Array(\"<!--\"),\n    COMMENT_END: toUint8Array(\"-->\"),\n};\nfunction isAsciiAlpha(c) {\n    return ((c >= Chars.UpperA && c <= Chars.UpperZ) ||\n        (c >= Chars.LowerA && c <= Chars.LowerZ));\n}\nfunction isQuote(c) {\n    return c === Chars.DQUOTE || c === Chars.SQUOTE;\n}\nclass Sniffer {\n    setResult(label, type) {\n        if (this.resultType === ResultType.DEFAULT || this.resultType > type) {\n            const encoding = (0,whatwg_encoding__WEBPACK_IMPORTED_MODULE_0__.labelToName)(label);\n            if (encoding) {\n                this.encoding =\n                    // Check if we are in a meta tag and the encoding is `x-user-defined`\n                    type === ResultType.META_TAG &&\n                        encoding === \"x-user-defined\"\n                        ? \"windows-1252\"\n                        : // Check if we are in a meta tag or xml declaration, and the encoding is UTF-16\n                            (type === ResultType.META_TAG ||\n                                type === ResultType.XML_ENCODING) &&\n                                (encoding === \"UTF-16LE\" || encoding === \"UTF-16BE\")\n                                ? \"UTF-8\"\n                                : encoding;\n                this.resultType = type;\n            }\n        }\n    }\n    constructor({ maxBytes = 1024, userEncoding, transportLayerEncodingLabel, defaultEncoding, } = {}) {\n        /** The offset of the previous buffers. */\n        this.offset = 0;\n        this.state = State.Begin;\n        this.sectionIndex = 0;\n        this.attribType = AttribType.None;\n        /**\n         * Indicates if the `http-equiv` is `content-type`.\n         *\n         * Initially `null`, a boolean when a value is found.\n         */\n        this.gotPragma = null;\n        this.needsPragma = null;\n        this.inMetaTag = false;\n        this.encoding = \"windows-1252\";\n        this.resultType = ResultType.DEFAULT;\n        this.quoteCharacter = 0;\n        this.attributeValue = [];\n        this.maxBytes = maxBytes;\n        if (userEncoding) {\n            this.setResult(userEncoding, ResultType.PASSED);\n        }\n        if (transportLayerEncodingLabel) {\n            this.setResult(transportLayerEncodingLabel, ResultType.PASSED);\n        }\n        if (defaultEncoding) {\n            this.setResult(defaultEncoding, ResultType.DEFAULT);\n        }\n    }\n    stateBegin(c) {\n        switch (c) {\n            case STRINGS.UTF16BE_BOM[0]: {\n                this.state = State.BOM16BE;\n                break;\n            }\n            case STRINGS.UTF16LE_BOM[0]: {\n                this.state = State.BOM16LE;\n                break;\n            }\n            case STRINGS.UTF8_BOM[0]: {\n                this.sectionIndex = 1;\n                this.state = State.BOM8;\n                break;\n            }\n            case Chars.NIL: {\n                this.state = State.UTF16BE_XML_PREFIX;\n                this.sectionIndex = 1;\n                break;\n            }\n            case Chars.LT: {\n                this.state = State.BeginLT;\n                break;\n            }\n            default: {\n                this.state = State.BeforeTag;\n            }\n        }\n    }\n    stateBeginLT(c) {\n        if (c === Chars.NIL) {\n            this.state = State.UTF16LE_XML_PREFIX;\n            this.sectionIndex = 2;\n        }\n        else if (c === Chars.QUESTION) {\n            this.state = State.XMLDeclaration;\n            this.sectionIndex = 2;\n        }\n        else {\n            this.state = State.BeforeTagName;\n            this.stateBeforeTagName(c);\n        }\n    }\n    stateUTF16BE_XML_PREFIX(c) {\n        // Advance position in the section\n        if (this.advanceSection(STRINGS.UTF16BE_XML_PREFIX, c)) {\n            if (this.sectionIndex === STRINGS.UTF16BE_XML_PREFIX.length) {\n                // We have the whole prefix\n                this.setResult(\"utf-16be\", ResultType.XML_PREFIX);\n            }\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateUTF16LE_XML_PREFIX(c) {\n        // Advance position in the section\n        if (this.advanceSection(STRINGS.UTF16LE_XML_PREFIX, c)) {\n            if (this.sectionIndex === STRINGS.UTF16LE_XML_PREFIX.length) {\n                // We have the whole prefix\n                this.setResult(\"utf-16le\", ResultType.XML_PREFIX);\n            }\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateBOM16LE(c) {\n        if (c === STRINGS.UTF16LE_BOM[1]) {\n            this.setResult(\"utf-16le\", ResultType.BOM);\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateBOM16BE(c) {\n        if (c === STRINGS.UTF16BE_BOM[1]) {\n            this.setResult(\"utf-16be\", ResultType.BOM);\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateBOM8(c) {\n        if (this.advanceSection(STRINGS.UTF8_BOM, c) &&\n            this.sectionIndex === STRINGS.UTF8_BOM.length) {\n            this.setResult(\"utf-8\", ResultType.BOM);\n        }\n    }\n    stateBeforeTag(c) {\n        if (c === Chars.LT) {\n            this.state = State.BeforeTagName;\n            this.inMetaTag = false;\n        }\n    }\n    /**\n     * We have seen a `<`, and now have to figure out what to do.\n     *\n     * Options:\n     *  - `<meta`\n     *  - Any other tag\n     *  - A closing tag\n     *  - `<!--`\n     *  - An XML declaration\n     *\n     */\n    stateBeforeTagName(c) {\n        if (isAsciiAlpha(c)) {\n            if ((c | 0x20) === STRINGS.META[0]) {\n                this.sectionIndex = 1;\n                this.state = State.TagNameMeta;\n            }\n            else {\n                this.state = State.TagNameOther;\n            }\n        }\n        else\n            switch (c) {\n                case Chars.SLASH: {\n                    this.state = State.BeforeCloseTagName;\n                    break;\n                }\n                case Chars.EXCLAMATION: {\n                    this.state = State.CommentStart;\n                    this.sectionIndex = 2;\n                    break;\n                }\n                case Chars.QUESTION: {\n                    this.state = State.WeirdTag;\n                    break;\n                }\n                default: {\n                    this.state = State.BeforeTag;\n                    this.stateBeforeTag(c);\n                }\n            }\n    }\n    stateBeforeCloseTagName(c) {\n        this.state = isAsciiAlpha(c)\n            ? // Switch to `TagNameOther`; the HTML spec allows attributes here as well.\n                State.TagNameOther\n            : State.WeirdTag;\n    }\n    stateCommentStart(c) {\n        if (this.advanceSection(STRINGS.COMMENT_START, c)) {\n            if (this.sectionIndex === STRINGS.COMMENT_START.length) {\n                this.state = State.CommentEnd;\n                // The -- of the comment start can be part of the end.\n                this.sectionIndex = 2;\n            }\n        }\n        else {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    }\n    stateCommentEnd(c) {\n        if (this.advanceSection(STRINGS.COMMENT_END, c)) {\n            if (this.sectionIndex === STRINGS.COMMENT_END.length) {\n                this.state = State.BeforeTag;\n            }\n        }\n        else if (c === Chars.DASH) {\n            /*\n             * If we are here, we know we expected a `>` above.\n             * Set this to 2, to support many dashes before the closing `>`.\n             */\n            this.sectionIndex = 2;\n        }\n    }\n    /**\n     * Any section starting with `<!`, `<?`, `</`, without being a closing tag or comment.\n     */\n    stateWeirdTag(c) {\n        if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n    }\n    /**\n     * Advances the section, ignoring upper/lower case.\n     *\n     * Make sure the section has left-over characters before calling.\n     *\n     * @returns `false` if we did not match the section.\n     */\n    advanceSectionIC(section, c) {\n        return this.advanceSection(section, c | 0x20);\n    }\n    /**\n     * Advances the section.\n     *\n     * Make sure the section has left-over characters before calling.\n     *\n     * @returns `false` if we did not match the section.\n     */\n    advanceSection(section, c) {\n        if (section[this.sectionIndex] === c) {\n            this.sectionIndex++;\n            return true;\n        }\n        this.sectionIndex = 0;\n        return false;\n    }\n    stateTagNameMeta(c) {\n        if (this.sectionIndex < STRINGS.META.length) {\n            if (this.advanceSectionIC(STRINGS.META, c)) {\n                return;\n            }\n        }\n        else if (SPACE_CHARACTERS.has(c)) {\n            this.inMetaTag = true;\n            this.gotPragma = null;\n            this.needsPragma = null;\n            this.state = State.BeforeAttribute;\n            return;\n        }\n        this.state = State.TagNameOther;\n        // Reconsume in case there is a `>`.\n        this.stateTagNameOther(c);\n    }\n    stateTagNameOther(c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.state = State.BeforeAttribute;\n        }\n        else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n    }\n    stateBeforeAttribute(c) {\n        if (SPACE_CHARACTERS.has(c))\n            return;\n        if (this.inMetaTag) {\n            const lower = c | 0x20;\n            if (lower === STRINGS.HTTP_EQUIV[0]) {\n                this.sectionIndex = 1;\n                this.state = State.MetaAttribHttpEquiv;\n                return;\n            }\n            else if (lower === STRINGS.CHARSET[0]) {\n                this.sectionIndex = 1;\n                this.state = State.MetaAttribC;\n                return;\n            }\n        }\n        this.state =\n            c === Chars.SLASH || c === Chars.GT\n                ? State.BeforeTag\n                : State.AnyAttribName;\n    }\n    handleMetaAttrib(c, section, type) {\n        if (this.advanceSectionIC(section, c)) {\n            if (this.sectionIndex === section.length) {\n                this.attribType = type;\n                this.state = State.MetaAttribAfterName;\n            }\n        }\n        else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    }\n    stateMetaAttribHttpEquiv(c) {\n        this.handleMetaAttrib(c, STRINGS.HTTP_EQUIV, AttribType.HttpEquiv);\n    }\n    stateMetaAttribC(c) {\n        const lower = c | 0x20;\n        if (lower === STRINGS.CHARSET[1]) {\n            this.sectionIndex = 2;\n            this.state = State.MetaAttribCharset;\n        }\n        else if (lower === STRINGS.CONTENT[1]) {\n            this.sectionIndex = 2;\n            this.state = State.MetaAttribContent;\n        }\n        else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    }\n    stateMetaAttribCharset(c) {\n        this.handleMetaAttrib(c, STRINGS.CHARSET, AttribType.Charset);\n    }\n    stateMetaAttribContent(c) {\n        this.handleMetaAttrib(c, STRINGS.CONTENT, AttribType.Content);\n    }\n    stateMetaAttribAfterName(c) {\n        if (SPACE_CHARACTERS.has(c) || c === Chars.EQUALS) {\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        }\n        else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    }\n    stateAnyAttribName(c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.attribType = AttribType.None;\n            this.state = State.AfterAttributeName;\n        }\n        else if (c === Chars.SLASH || c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n        else if (c === Chars.EQUALS) {\n            this.state = State.BeforeAttributeValue;\n        }\n    }\n    stateAfterAttributeName(c) {\n        if (SPACE_CHARACTERS.has(c))\n            return;\n        if (c === Chars.EQUALS) {\n            this.state = State.BeforeAttributeValue;\n        }\n        else {\n            this.state = State.BeforeAttribute;\n            this.stateBeforeAttribute(c);\n        }\n    }\n    stateBeforeAttributeValue(c) {\n        if (SPACE_CHARACTERS.has(c))\n            return;\n        this.attributeValue.length = 0;\n        this.sectionIndex = 0;\n        if (isQuote(c)) {\n            this.quoteCharacter = c;\n            this.state =\n                this.attribType === AttribType.Content\n                    ? State.MetaContentValueQuotedBeforeEncoding\n                    : this.attribType === AttribType.HttpEquiv\n                        ? State.MetaAttribHttpEquivValue\n                        : State.AttributeValueQuoted;\n        }\n        else if (this.attribType === AttribType.Content) {\n            this.state = State.MetaContentValueUnquotedBeforeEncoding;\n            this.stateMetaContentValueUnquotedBeforeEncoding(c);\n        }\n        else if (this.attribType === AttribType.HttpEquiv) {\n            // We use `quoteCharacter = 0` to signify that the value is unquoted.\n            this.quoteCharacter = 0;\n            this.sectionIndex = 0;\n            this.state = State.MetaAttribHttpEquivValue;\n            this.stateMetaAttribHttpEquivValue(c);\n        }\n        else {\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n    }\n    // The value has to be `content-type`\n    stateMetaAttribHttpEquivValue(c) {\n        if (this.sectionIndex === STRINGS.CONTENT_TYPE.length) {\n            if (this.quoteCharacter === 0\n                ? END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)\n                : c === this.quoteCharacter) {\n                if (this.needsPragma !== null) {\n                    this.setResult(this.needsPragma, ResultType.META_TAG);\n                }\n                else if (this.gotPragma === null) {\n                    this.gotPragma = true;\n                }\n                this.state = State.BeforeAttribute;\n                return;\n            }\n        }\n        else if (this.advanceSectionIC(STRINGS.CONTENT_TYPE, c)) {\n            return;\n        }\n        this.gotPragma = false;\n        if (this.quoteCharacter === 0) {\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n        else {\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n    }\n    handleMetaContentValue() {\n        if (this.attributeValue.length === 0)\n            return;\n        const encoding = String.fromCharCode(...this.attributeValue);\n        if (this.gotPragma) {\n            this.setResult(encoding, ResultType.META_TAG);\n        }\n        else if (this.needsPragma === null) {\n            // Don't override a previous result.\n            this.needsPragma = encoding;\n        }\n        this.attributeValue.length = 0;\n    }\n    handleAttributeValue() {\n        if (this.attribType === AttribType.Charset) {\n            this.setResult(String.fromCharCode(...this.attributeValue), ResultType.META_TAG);\n        }\n    }\n    stateAttributeValueUnquoted(c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.handleAttributeValue();\n            this.state = State.BeforeAttribute;\n        }\n        else if (c === Chars.SLASH || c === Chars.GT) {\n            this.handleAttributeValue();\n            this.state = State.BeforeTag;\n        }\n        else if (this.attribType === AttribType.Charset) {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    findMetaContentEncoding(c) {\n        if (this.advanceSectionIC(STRINGS.CHARSET, c)) {\n            if (this.sectionIndex === STRINGS.CHARSET.length) {\n                return true;\n            }\n        }\n        else {\n            // If we encountered another `c`, assume we started over.\n            this.sectionIndex = Number(c === STRINGS.CHARSET[0]);\n        }\n        return false;\n    }\n    stateMetaContentValueUnquotedBeforeEncoding(c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            this.stateAttributeValueUnquoted(c);\n        }\n        else if (this.sectionIndex === STRINGS.CHARSET.length) {\n            if (c === Chars.EQUALS) {\n                this.state = State.MetaContentValueUnquotedBeforeValue;\n            }\n        }\n        else {\n            this.findMetaContentEncoding(c);\n        }\n    }\n    stateMetaContentValueUnquotedBeforeValue(c) {\n        if (isQuote(c)) {\n            this.quoteCharacter = c;\n            this.state = State.MetaContentValueUnquotedValueQuoted;\n        }\n        else if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            // Can't have spaces here, as it would no longer be part of the attribute value.\n            this.stateAttributeValueUnquoted(c);\n        }\n        else {\n            this.state = State.MetaContentValueUnquotedValueUnquoted;\n            this.stateMetaContentValueUnquotedValueUnquoted(c);\n        }\n    }\n    stateMetaContentValueUnquotedValueQuoted(c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            // Quotes weren't matched, so we're done.\n            this.stateAttributeValueUnquoted(c);\n        }\n        else if (c === this.quoteCharacter) {\n            this.handleMetaContentValue();\n            this.state = State.AttributeValueUnquoted;\n        }\n        else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueUnquotedValueUnquoted(c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c) || c === Chars.SEMICOLON) {\n            this.handleMetaContentValue();\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n        else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueQuotedValueUnquoted(c) {\n        if (isQuote(c) || SPACE_CHARACTERS.has(c) || c === Chars.SEMICOLON) {\n            this.handleMetaContentValue();\n            // We are done with the value, but might not be at the end of the attribute\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n        else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueQuotedValueQuoted(c) {\n        if (isQuote(c)) {\n            // We have reached the end of our value.\n            if (c !== this.quoteCharacter) {\n                // Only handle the value if inner quotes were matched.\n                this.handleMetaContentValue();\n            }\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n        else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueQuotedBeforeEncoding(c) {\n        if (c === this.quoteCharacter) {\n            this.stateAttributeValueQuoted(c);\n        }\n        else if (this.findMetaContentEncoding(c)) {\n            this.state = State.MetaContentValueQuotedAfterEncoding;\n        }\n    }\n    stateMetaContentValueQuotedAfterEncoding(c) {\n        if (c === Chars.EQUALS) {\n            this.state = State.MetaContentValueQuotedBeforeValue;\n        }\n        else if (!SPACE_CHARACTERS.has(c)) {\n            // Look for the next encoding\n            this.state = State.MetaContentValueQuotedBeforeEncoding;\n            this.stateMetaContentValueQuotedBeforeEncoding(c);\n        }\n    }\n    stateMetaContentValueQuotedBeforeValue(c) {\n        if (c === this.quoteCharacter) {\n            this.stateAttributeValueQuoted(c);\n        }\n        else if (isQuote(c)) {\n            this.state = State.MetaContentValueQuotedValueQuoted;\n        }\n        else if (!SPACE_CHARACTERS.has(c)) {\n            this.state = State.MetaContentValueQuotedValueUnquoted;\n            this.stateMetaContentValueQuotedValueUnquoted(c);\n        }\n    }\n    stateAttributeValueQuoted(c) {\n        if (c === this.quoteCharacter) {\n            this.handleAttributeValue();\n            this.state = State.BeforeAttribute;\n        }\n        else if (this.attribType === AttribType.Charset) {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    // Read STRINGS.XML_DECLARATION\n    stateXMLDeclaration(c) {\n        if (this.advanceSection(STRINGS.XML_DECLARATION, c)) {\n            if (this.sectionIndex === STRINGS.XML_DECLARATION.length) {\n                this.sectionIndex = 0;\n                this.state = State.XMLDeclarationBeforeEncoding;\n            }\n        }\n        else {\n            this.state = State.WeirdTag;\n        }\n    }\n    stateXMLDeclarationBeforeEncoding(c) {\n        if (this.advanceSection(STRINGS.ENCODING, c)) {\n            if (this.sectionIndex === STRINGS.ENCODING.length) {\n                this.state = State.XMLDeclarationAfterEncoding;\n            }\n        }\n        else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n        else {\n            // If we encountered another `c`, assume we started over.\n            this.sectionIndex = Number(c === STRINGS.ENCODING[0]);\n        }\n    }\n    stateXMLDeclarationAfterEncoding(c) {\n        if (c === Chars.EQUALS) {\n            this.state = State.XMLDeclarationBeforeValue;\n        }\n        else if (c > Chars.SPACE) {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    }\n    stateXMLDeclarationBeforeValue(c) {\n        if (isQuote(c)) {\n            this.attributeValue.length = 0;\n            this.state = State.XMLDeclarationValue;\n        }\n        else if (c > Chars.SPACE) {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    }\n    stateXMLDeclarationValue(c) {\n        if (isQuote(c)) {\n            this.setResult(String.fromCharCode(...this.attributeValue), ResultType.XML_ENCODING);\n            this.state = State.WeirdTag;\n        }\n        else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n        else if (c <= Chars.SPACE) {\n            this.state = State.WeirdTag;\n        }\n        else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    write(buffer) {\n        let index = 0;\n        for (; index < buffer.length && this.offset + index < this.maxBytes; index++) {\n            const c = buffer[index];\n            switch (this.state) {\n                case State.Begin: {\n                    this.stateBegin(c);\n                    break;\n                }\n                case State.BOM16BE: {\n                    this.stateBOM16BE(c);\n                    break;\n                }\n                case State.BOM16LE: {\n                    this.stateBOM16LE(c);\n                    break;\n                }\n                case State.BOM8: {\n                    this.stateBOM8(c);\n                    break;\n                }\n                case State.UTF16LE_XML_PREFIX: {\n                    this.stateUTF16LE_XML_PREFIX(c);\n                    break;\n                }\n                case State.BeginLT: {\n                    this.stateBeginLT(c);\n                    break;\n                }\n                case State.UTF16BE_XML_PREFIX: {\n                    this.stateUTF16BE_XML_PREFIX(c);\n                    break;\n                }\n                case State.BeforeTag: {\n                    // Optimization: Skip all characters until we find a `<`\n                    const idx = buffer.indexOf(Chars.LT, index);\n                    if (idx === -1) {\n                        // We are done with this buffer. Stay in the state and try on the next one.\n                        index = buffer.length;\n                    }\n                    else {\n                        index = idx;\n                        this.stateBeforeTag(Chars.LT);\n                    }\n                    break;\n                }\n                case State.BeforeTagName: {\n                    this.stateBeforeTagName(c);\n                    break;\n                }\n                case State.BeforeCloseTagName: {\n                    this.stateBeforeCloseTagName(c);\n                    break;\n                }\n                case State.CommentStart: {\n                    this.stateCommentStart(c);\n                    break;\n                }\n                case State.CommentEnd: {\n                    this.stateCommentEnd(c);\n                    break;\n                }\n                case State.TagNameMeta: {\n                    this.stateTagNameMeta(c);\n                    break;\n                }\n                case State.TagNameOther: {\n                    this.stateTagNameOther(c);\n                    break;\n                }\n                case State.XMLDeclaration: {\n                    this.stateXMLDeclaration(c);\n                    break;\n                }\n                case State.XMLDeclarationBeforeEncoding: {\n                    this.stateXMLDeclarationBeforeEncoding(c);\n                    break;\n                }\n                case State.XMLDeclarationAfterEncoding: {\n                    this.stateXMLDeclarationAfterEncoding(c);\n                    break;\n                }\n                case State.XMLDeclarationBeforeValue: {\n                    this.stateXMLDeclarationBeforeValue(c);\n                    break;\n                }\n                case State.XMLDeclarationValue: {\n                    this.stateXMLDeclarationValue(c);\n                    break;\n                }\n                case State.WeirdTag: {\n                    this.stateWeirdTag(c);\n                    break;\n                }\n                case State.BeforeAttribute: {\n                    this.stateBeforeAttribute(c);\n                    break;\n                }\n                case State.MetaAttribHttpEquiv: {\n                    this.stateMetaAttribHttpEquiv(c);\n                    break;\n                }\n                case State.MetaAttribHttpEquivValue: {\n                    this.stateMetaAttribHttpEquivValue(c);\n                    break;\n                }\n                case State.MetaAttribC: {\n                    this.stateMetaAttribC(c);\n                    break;\n                }\n                case State.MetaAttribContent: {\n                    this.stateMetaAttribContent(c);\n                    break;\n                }\n                case State.MetaAttribCharset: {\n                    this.stateMetaAttribCharset(c);\n                    break;\n                }\n                case State.MetaAttribAfterName: {\n                    this.stateMetaAttribAfterName(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedBeforeEncoding: {\n                    this.stateMetaContentValueQuotedBeforeEncoding(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedAfterEncoding: {\n                    this.stateMetaContentValueQuotedAfterEncoding(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedBeforeValue: {\n                    this.stateMetaContentValueQuotedBeforeValue(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedValueQuoted: {\n                    this.stateMetaContentValueQuotedValueQuoted(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedValueUnquoted: {\n                    this.stateMetaContentValueQuotedValueUnquoted(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedBeforeEncoding: {\n                    this.stateMetaContentValueUnquotedBeforeEncoding(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedBeforeValue: {\n                    this.stateMetaContentValueUnquotedBeforeValue(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedValueQuoted: {\n                    this.stateMetaContentValueUnquotedValueQuoted(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedValueUnquoted: {\n                    this.stateMetaContentValueUnquotedValueUnquoted(c);\n                    break;\n                }\n                case State.AnyAttribName: {\n                    this.stateAnyAttribName(c);\n                    break;\n                }\n                case State.AfterAttributeName: {\n                    this.stateAfterAttributeName(c);\n                    break;\n                }\n                case State.BeforeAttributeValue: {\n                    this.stateBeforeAttributeValue(c);\n                    break;\n                }\n                case State.AttributeValueQuoted: {\n                    this.stateAttributeValueQuoted(c);\n                    break;\n                }\n                case State.AttributeValueUnquoted: {\n                    this.stateAttributeValueUnquoted(c);\n                    break;\n                }\n            }\n        }\n        this.offset += index;\n    }\n}\n/** Get the encoding for the passed buffer. */\nfunction getEncoding(buffer, options) {\n    const sniffer = new Sniffer(options);\n    sniffer.write(buffer);\n    return sniffer.encoding;\n}\n//# sourceMappingURL=sniffer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZW5jb2Rpbmctc25pZmZlci9kaXN0L2VzbS9zbmlmZmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNCQUFzQjtBQUNoQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDZCQUE2Qiw0REFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrRUFBK0UsSUFBSTtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4REFBOEQ7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90eXVzdC1jb3Vyc2Utc2VsZWN0b3IvLi9ub2RlX21vZHVsZXMvZW5jb2Rpbmctc25pZmZlci9kaXN0L2VzbS9zbmlmZmVyLmpzPzIwNWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbGFiZWxUb05hbWUgfSBmcm9tIFwid2hhdHdnLWVuY29kaW5nXCI7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwcmVzY2FuLWEtYnl0ZS1zdHJlYW0tdG8tZGV0ZXJtaW5lLWl0cy1lbmNvZGluZ1xudmFyIFN0YXRlO1xuKGZ1bmN0aW9uIChTdGF0ZSkge1xuICAgIC8vIEJlZm9yZSBhbnl0aGluZyBzdGFydHM7IGNhbiBiZSBhbnkgb2YgQk9NLCBVVEYtMTYgWE1MIGRlY2xhcmF0aW9ucyBvciBtZXRhIHRhZ3NcbiAgICBTdGF0ZVtTdGF0ZVtcIkJlZ2luXCJdID0gMF0gPSBcIkJlZ2luXCI7XG4gICAgLy8gSW5zaWRlIG9mIGEgQk9NXG4gICAgU3RhdGVbU3RhdGVbXCJCT00xNkJFXCJdID0gMV0gPSBcIkJPTTE2QkVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIkJPTTE2TEVcIl0gPSAyXSA9IFwiQk9NMTZMRVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiQk9NOFwiXSA9IDNdID0gXCJCT004XCI7XG4gICAgLy8gWE1MIHByZWZpeFxuICAgIFN0YXRlW1N0YXRlW1wiVVRGMTZMRV9YTUxfUFJFRklYXCJdID0gNF0gPSBcIlVURjE2TEVfWE1MX1BSRUZJWFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiQmVnaW5MVFwiXSA9IDVdID0gXCJCZWdpbkxUXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJVVEYxNkJFX1hNTF9QUkVGSVhcIl0gPSA2XSA9IFwiVVRGMTZCRV9YTUxfUFJFRklYXCI7XG4gICAgLy8gV2FpdGluZyBmb3Igb3BlbmluZyBgPGBcbiAgICBTdGF0ZVtTdGF0ZVtcIkJlZm9yZVRhZ1wiXSA9IDddID0gXCJCZWZvcmVUYWdcIjtcbiAgICAvLyBBZnRlciB0aGUgb3BlbmluZyBgPGBcbiAgICBTdGF0ZVtTdGF0ZVtcIkJlZm9yZVRhZ05hbWVcIl0gPSA4XSA9IFwiQmVmb3JlVGFnTmFtZVwiO1xuICAgIC8vIEFmdGVyIGA8L2BcbiAgICBTdGF0ZVtTdGF0ZVtcIkJlZm9yZUNsb3NlVGFnTmFtZVwiXSA9IDldID0gXCJCZWZvcmVDbG9zZVRhZ05hbWVcIjtcbiAgICAvLyBCZWdpbm5pbmcgb2YgYSBjb21tZW50XG4gICAgU3RhdGVbU3RhdGVbXCJDb21tZW50U3RhcnRcIl0gPSAxMF0gPSBcIkNvbW1lbnRTdGFydFwiO1xuICAgIC8vIEVuZCBvZiBhIGNvbW1lbnRcbiAgICBTdGF0ZVtTdGF0ZVtcIkNvbW1lbnRFbmRcIl0gPSAxMV0gPSBcIkNvbW1lbnRFbmRcIjtcbiAgICAvLyBBIHRhZyBuYW1lIHRoYXQgY291bGQgYmUgYG1ldGFgXG4gICAgU3RhdGVbU3RhdGVbXCJUYWdOYW1lTWV0YVwiXSA9IDEyXSA9IFwiVGFnTmFtZU1ldGFcIjtcbiAgICAvLyBBIHRhZyBuYW1lIHRoYXQgaXMgbm90IGBtZXRhYFxuICAgIFN0YXRlW1N0YXRlW1wiVGFnTmFtZU90aGVyXCJdID0gMTNdID0gXCJUYWdOYW1lT3RoZXJcIjtcbiAgICAvLyBYTUwgZGVjbGFyYXRpb25cbiAgICBTdGF0ZVtTdGF0ZVtcIlhNTERlY2xhcmF0aW9uXCJdID0gMTRdID0gXCJYTUxEZWNsYXJhdGlvblwiO1xuICAgIFN0YXRlW1N0YXRlW1wiWE1MRGVjbGFyYXRpb25CZWZvcmVFbmNvZGluZ1wiXSA9IDE1XSA9IFwiWE1MRGVjbGFyYXRpb25CZWZvcmVFbmNvZGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiWE1MRGVjbGFyYXRpb25BZnRlckVuY29kaW5nXCJdID0gMTZdID0gXCJYTUxEZWNsYXJhdGlvbkFmdGVyRW5jb2RpbmdcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIlhNTERlY2xhcmF0aW9uQmVmb3JlVmFsdWVcIl0gPSAxN10gPSBcIlhNTERlY2xhcmF0aW9uQmVmb3JlVmFsdWVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIlhNTERlY2xhcmF0aW9uVmFsdWVcIl0gPSAxOF0gPSBcIlhNTERlY2xhcmF0aW9uVmFsdWVcIjtcbiAgICAvLyBBbnl0aGluZyB0aGF0IGxvb2tzIGxpa2UgYSB0YWcsIGJ1dCBkb2Vzbid0IGZpdCBpbiB0aGUgYWJvdmUgY2F0ZWdvcmllc1xuICAgIFN0YXRlW1N0YXRlW1wiV2VpcmRUYWdcIl0gPSAxOV0gPSBcIldlaXJkVGFnXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJCZWZvcmVBdHRyaWJ1dGVcIl0gPSAyMF0gPSBcIkJlZm9yZUF0dHJpYnV0ZVwiO1xuICAgIC8qXG4gICAgICogQXR0cmlidXRlcyBpbiBtZXRhIHRhZyDigJQgd2UgY29tcGFyZSB0aGVtIHRvIG91ciBzZXQgaGVyZSwgYW5kIGJhY2sgb3V0XG4gICAgICogV2UgY2FyZSBhYm91dCBmb3VyIGF0dHJpYnV0ZXM6IGh0dHAtZXF1aXYsIGNvbnRlbnQtdHlwZSwgY29udGVudCwgY2hhcnNldFxuICAgICAqL1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUF0dHJpYkh0dHBFcXVpdlwiXSA9IDIxXSA9IFwiTWV0YUF0dHJpYkh0dHBFcXVpdlwiO1xuICAgIC8vIFRoZSB2YWx1ZSBoYXMgdG8gYmUgYGNvbnRlbnQtdHlwZWBcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFBdHRyaWJIdHRwRXF1aXZWYWx1ZVwiXSA9IDIyXSA9IFwiTWV0YUF0dHJpYkh0dHBFcXVpdlZhbHVlXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQXR0cmliQ1wiXSA9IDIzXSA9IFwiTWV0YUF0dHJpYkNcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFBdHRyaWJDb250ZW50XCJdID0gMjRdID0gXCJNZXRhQXR0cmliQ29udGVudFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUF0dHJpYkNoYXJzZXRcIl0gPSAyNV0gPSBcIk1ldGFBdHRyaWJDaGFyc2V0XCI7XG4gICAgLy8gV2FpdGluZyBmb3Igd2hpdGVzcGFjZVxuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUF0dHJpYkFmdGVyTmFtZVwiXSA9IDI2XSA9IFwiTWV0YUF0dHJpYkFmdGVyTmFtZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZUVuY29kaW5nXCJdID0gMjddID0gXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlRW5jb2RpbmdcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFDb250ZW50VmFsdWVRdW90ZWRBZnRlckVuY29kaW5nXCJdID0gMjhdID0gXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkQWZ0ZXJFbmNvZGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZVZhbHVlXCJdID0gMjldID0gXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlVmFsdWVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVF1b3RlZFwiXSA9IDMwXSA9IFwiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlUXVvdGVkXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVVbnF1b3RlZFwiXSA9IDMxXSA9IFwiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZUVuY29kaW5nXCJdID0gMzJdID0gXCJNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVFbmNvZGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlVmFsdWVcIl0gPSAzM10gPSBcIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZVZhbHVlXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVF1b3RlZFwiXSA9IDM0XSA9IFwiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVRdW90ZWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWRcIl0gPSAzNV0gPSBcIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIkFueUF0dHJpYk5hbWVcIl0gPSAzNl0gPSBcIkFueUF0dHJpYk5hbWVcIjtcbiAgICAvLyBBZnRlciB0aGUgbmFtZSBvZiBhbiBhdHRyaWJ1dGUsIGJlZm9yZSB0aGUgZXF1YWxzIHNpZ25cbiAgICBTdGF0ZVtTdGF0ZVtcIkFmdGVyQXR0cmlidXRlTmFtZVwiXSA9IDM3XSA9IFwiQWZ0ZXJBdHRyaWJ1dGVOYW1lXCI7XG4gICAgLy8gQWZ0ZXIgYD1gXG4gICAgU3RhdGVbU3RhdGVbXCJCZWZvcmVBdHRyaWJ1dGVWYWx1ZVwiXSA9IDM4XSA9IFwiQmVmb3JlQXR0cmlidXRlVmFsdWVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIkF0dHJpYnV0ZVZhbHVlUXVvdGVkXCJdID0gMzldID0gXCJBdHRyaWJ1dGVWYWx1ZVF1b3RlZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiQXR0cmlidXRlVmFsdWVVbnF1b3RlZFwiXSA9IDQwXSA9IFwiQXR0cmlidXRlVmFsdWVVbnF1b3RlZFwiO1xufSkoU3RhdGUgfHwgKFN0YXRlID0ge30pKTtcbmV4cG9ydCB2YXIgUmVzdWx0VHlwZTtcbihmdW5jdGlvbiAoUmVzdWx0VHlwZSkge1xuICAgIC8vIEJ5dGUgb3JkZXIgbWFya1xuICAgIFJlc3VsdFR5cGVbUmVzdWx0VHlwZVtcIkJPTVwiXSA9IDBdID0gXCJCT01cIjtcbiAgICAvLyBVc2VyLSBvciB0cmFuc3BvcnQgbGF5ZXItZGVmaW5lZFxuICAgIFJlc3VsdFR5cGVbUmVzdWx0VHlwZVtcIlBBU1NFRFwiXSA9IDFdID0gXCJQQVNTRURcIjtcbiAgICAvLyBYTUwgcHJlZml4ZXNcbiAgICBSZXN1bHRUeXBlW1Jlc3VsdFR5cGVbXCJYTUxfUFJFRklYXCJdID0gMl0gPSBcIlhNTF9QUkVGSVhcIjtcbiAgICAvLyBNZXRhIHRhZ1xuICAgIFJlc3VsdFR5cGVbUmVzdWx0VHlwZVtcIk1FVEFfVEFHXCJdID0gM10gPSBcIk1FVEFfVEFHXCI7XG4gICAgLy8gWE1MIGVuY29kaW5nXG4gICAgUmVzdWx0VHlwZVtSZXN1bHRUeXBlW1wiWE1MX0VOQ09ESU5HXCJdID0gNF0gPSBcIlhNTF9FTkNPRElOR1wiO1xuICAgIC8vIERlZmF1bHRcbiAgICBSZXN1bHRUeXBlW1Jlc3VsdFR5cGVbXCJERUZBVUxUXCJdID0gNV0gPSBcIkRFRkFVTFRcIjtcbn0pKFJlc3VsdFR5cGUgfHwgKFJlc3VsdFR5cGUgPSB7fSkpO1xudmFyIEF0dHJpYlR5cGU7XG4oZnVuY3Rpb24gKEF0dHJpYlR5cGUpIHtcbiAgICBBdHRyaWJUeXBlW0F0dHJpYlR5cGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICBBdHRyaWJUeXBlW0F0dHJpYlR5cGVbXCJIdHRwRXF1aXZcIl0gPSAxXSA9IFwiSHR0cEVxdWl2XCI7XG4gICAgQXR0cmliVHlwZVtBdHRyaWJUeXBlW1wiQ29udGVudFwiXSA9IDJdID0gXCJDb250ZW50XCI7XG4gICAgQXR0cmliVHlwZVtBdHRyaWJUeXBlW1wiQ2hhcnNldFwiXSA9IDNdID0gXCJDaGFyc2V0XCI7XG59KShBdHRyaWJUeXBlIHx8IChBdHRyaWJUeXBlID0ge30pKTtcbnZhciBDaGFycztcbihmdW5jdGlvbiAoQ2hhcnMpIHtcbiAgICBDaGFyc1tDaGFyc1tcIk5JTFwiXSA9IDBdID0gXCJOSUxcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlRBQlwiXSA9IDldID0gXCJUQUJcIjtcbiAgICBDaGFyc1tDaGFyc1tcIkxGXCJdID0gMTBdID0gXCJMRlwiO1xuICAgIENoYXJzW0NoYXJzW1wiQ1JcIl0gPSAxM10gPSBcIkNSXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJTUEFDRVwiXSA9IDMyXSA9IFwiU1BBQ0VcIjtcbiAgICBDaGFyc1tDaGFyc1tcIkVYQ0xBTUFUSU9OXCJdID0gMzNdID0gXCJFWENMQU1BVElPTlwiO1xuICAgIENoYXJzW0NoYXJzW1wiRFFVT1RFXCJdID0gMzRdID0gXCJEUVVPVEVcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlNRVU9URVwiXSA9IDM5XSA9IFwiU1FVT1RFXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJEQVNIXCJdID0gNDVdID0gXCJEQVNIXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJTTEFTSFwiXSA9IDQ3XSA9IFwiU0xBU0hcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlNFTUlDT0xPTlwiXSA9IDU5XSA9IFwiU0VNSUNPTE9OXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJMVFwiXSA9IDYwXSA9IFwiTFRcIjtcbiAgICBDaGFyc1tDaGFyc1tcIkVRVUFMU1wiXSA9IDYxXSA9IFwiRVFVQUxTXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJHVFwiXSA9IDYyXSA9IFwiR1RcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlFVRVNUSU9OXCJdID0gNjNdID0gXCJRVUVTVElPTlwiO1xuICAgIENoYXJzW0NoYXJzW1wiVXBwZXJBXCJdID0gNjVdID0gXCJVcHBlckFcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlVwcGVyWlwiXSA9IDkwXSA9IFwiVXBwZXJaXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJMb3dlckFcIl0gPSA5N10gPSBcIkxvd2VyQVwiO1xuICAgIENoYXJzW0NoYXJzW1wiTG93ZXJaXCJdID0gMTIyXSA9IFwiTG93ZXJaXCI7XG59KShDaGFycyB8fCAoQ2hhcnMgPSB7fSkpO1xuY29uc3QgU1BBQ0VfQ0hBUkFDVEVSUyA9IG5ldyBTZXQoW0NoYXJzLlNQQUNFLCBDaGFycy5MRiwgQ2hhcnMuQ1IsIENoYXJzLlRBQl0pO1xuY29uc3QgRU5EX09GX1VOUVVPVEVEX0FUVFJJQlVURV9WQUxVRSA9IG5ldyBTZXQoW1xuICAgIENoYXJzLlNQQUNFLFxuICAgIENoYXJzLkxGLFxuICAgIENoYXJzLkNSLFxuICAgIENoYXJzLlRBQixcbiAgICBDaGFycy5HVCxcbl0pO1xuZnVuY3Rpb24gdG9VaW50OEFycmF5KHN0cikge1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KHN0ci5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGNvbnN0IFNUUklOR1MgPSB7XG4gICAgVVRGOF9CT006IG5ldyBVaW50OEFycmF5KFsweGVmLCAweGJiLCAweGJmXSksXG4gICAgVVRGMTZMRV9CT006IG5ldyBVaW50OEFycmF5KFsweGZmLCAweGZlXSksXG4gICAgVVRGMTZCRV9CT006IG5ldyBVaW50OEFycmF5KFsweGZlLCAweGZmXSksXG4gICAgVVRGMTZMRV9YTUxfUFJFRklYOiBuZXcgVWludDhBcnJheShbMHgzYywgMHgwLCAweDNmLCAweDAsIDB4NzgsIDB4MF0pLFxuICAgIFVURjE2QkVfWE1MX1BSRUZJWDogbmV3IFVpbnQ4QXJyYXkoWzB4MCwgMHgzYywgMHgwLCAweDNmLCAweDAsIDB4NzhdKSxcbiAgICBYTUxfREVDTEFSQVRJT046IHRvVWludDhBcnJheShcIjw/eG1sXCIpLFxuICAgIEVOQ09ESU5HOiB0b1VpbnQ4QXJyYXkoXCJlbmNvZGluZ1wiKSxcbiAgICBNRVRBOiB0b1VpbnQ4QXJyYXkoXCJtZXRhXCIpLFxuICAgIEhUVFBfRVFVSVY6IHRvVWludDhBcnJheShcImh0dHAtZXF1aXZcIiksXG4gICAgQ09OVEVOVDogdG9VaW50OEFycmF5KFwiY29udGVudFwiKSxcbiAgICBDT05URU5UX1RZUEU6IHRvVWludDhBcnJheShcImNvbnRlbnQtdHlwZVwiKSxcbiAgICBDSEFSU0VUOiB0b1VpbnQ4QXJyYXkoXCJjaGFyc2V0XCIpLFxuICAgIENPTU1FTlRfU1RBUlQ6IHRvVWludDhBcnJheShcIjwhLS1cIiksXG4gICAgQ09NTUVOVF9FTkQ6IHRvVWludDhBcnJheShcIi0tPlwiKSxcbn07XG5mdW5jdGlvbiBpc0FzY2lpQWxwaGEoYykge1xuICAgIHJldHVybiAoKGMgPj0gQ2hhcnMuVXBwZXJBICYmIGMgPD0gQ2hhcnMuVXBwZXJaKSB8fFxuICAgICAgICAoYyA+PSBDaGFycy5Mb3dlckEgJiYgYyA8PSBDaGFycy5Mb3dlclopKTtcbn1cbmZ1bmN0aW9uIGlzUXVvdGUoYykge1xuICAgIHJldHVybiBjID09PSBDaGFycy5EUVVPVEUgfHwgYyA9PT0gQ2hhcnMuU1FVT1RFO1xufVxuZXhwb3J0IGNsYXNzIFNuaWZmZXIge1xuICAgIHNldFJlc3VsdChsYWJlbCwgdHlwZSkge1xuICAgICAgICBpZiAodGhpcy5yZXN1bHRUeXBlID09PSBSZXN1bHRUeXBlLkRFRkFVTFQgfHwgdGhpcy5yZXN1bHRUeXBlID4gdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RpbmcgPSBsYWJlbFRvTmFtZShsYWJlbCk7XG4gICAgICAgICAgICBpZiAoZW5jb2RpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuY29kaW5nID1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGluIGEgbWV0YSB0YWcgYW5kIHRoZSBlbmNvZGluZyBpcyBgeC11c2VyLWRlZmluZWRgXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT09IFJlc3VsdFR5cGUuTUVUQV9UQUcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kaW5nID09PSBcIngtdXNlci1kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJ3aW5kb3dzLTEyNTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiAvLyBDaGVjayBpZiB3ZSBhcmUgaW4gYSBtZXRhIHRhZyBvciB4bWwgZGVjbGFyYXRpb24sIGFuZCB0aGUgZW5jb2RpbmcgaXMgVVRGLTE2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGUgPT09IFJlc3VsdFR5cGUuTUVUQV9UQUcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gUmVzdWx0VHlwZS5YTUxfRU5DT0RJTkcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlbmNvZGluZyA9PT0gXCJVVEYtMTZMRVwiIHx8IGVuY29kaW5nID09PSBcIlVURi0xNkJFXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJVVEYtOFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih7IG1heEJ5dGVzID0gMTAyNCwgdXNlckVuY29kaW5nLCB0cmFuc3BvcnRMYXllckVuY29kaW5nTGFiZWwsIGRlZmF1bHRFbmNvZGluZywgfSA9IHt9KSB7XG4gICAgICAgIC8qKiBUaGUgb2Zmc2V0IG9mIHRoZSBwcmV2aW91cyBidWZmZXJzLiAqL1xuICAgICAgICB0aGlzLm9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWdpbjtcbiAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlR5cGUgPSBBdHRyaWJUeXBlLk5vbmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGBodHRwLWVxdWl2YCBpcyBgY29udGVudC10eXBlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogSW5pdGlhbGx5IGBudWxsYCwgYSBib29sZWFuIHdoZW4gYSB2YWx1ZSBpcyBmb3VuZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ290UHJhZ21hID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZWVkc1ByYWdtYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5NZXRhVGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBcIndpbmRvd3MtMTI1MlwiO1xuICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlLkRFRkFVTFQ7XG4gICAgICAgIHRoaXMucXVvdGVDaGFyYWN0ZXIgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlID0gW107XG4gICAgICAgIHRoaXMubWF4Qnl0ZXMgPSBtYXhCeXRlcztcbiAgICAgICAgaWYgKHVzZXJFbmNvZGluZykge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQodXNlckVuY29kaW5nLCBSZXN1bHRUeXBlLlBBU1NFRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYW5zcG9ydExheWVyRW5jb2RpbmdMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQodHJhbnNwb3J0TGF5ZXJFbmNvZGluZ0xhYmVsLCBSZXN1bHRUeXBlLlBBU1NFRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmF1bHRFbmNvZGluZykge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoZGVmYXVsdEVuY29kaW5nLCBSZXN1bHRUeXBlLkRFRkFVTFQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQmVnaW4oYykge1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICAgIGNhc2UgU1RSSU5HUy5VVEYxNkJFX0JPTVswXToge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CT00xNkJFO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTVFJJTkdTLlVURjE2TEVfQk9NWzBdOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJPTTE2TEU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFNUUklOR1MuVVRGOF9CT01bMF06IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJPTTg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIENoYXJzLk5JTDoge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5VVEYxNkJFX1hNTF9QUkVGSVg7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBDaGFycy5MVDoge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWdpbkxUO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCZWdpbkxUKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IENoYXJzLk5JTCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlVURjE2TEVfWE1MX1BSRUZJWDtcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSBDaGFycy5RVUVTVElPTikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlhNTERlY2xhcmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZ05hbWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlVGFnTmFtZShjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZVVURjE2QkVfWE1MX1BSRUZJWChjKSB7XG4gICAgICAgIC8vIEFkdmFuY2UgcG9zaXRpb24gaW4gdGhlIHNlY3Rpb25cbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb24oU1RSSU5HUy5VVEYxNkJFX1hNTF9QUkVGSVgsIGMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuVVRGMTZCRV9YTUxfUFJFRklYLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIHdob2xlIHByZWZpeFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVzdWx0KFwidXRmLTE2YmVcIiwgUmVzdWx0VHlwZS5YTUxfUFJFRklYKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlVGFnKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlVVRGMTZMRV9YTUxfUFJFRklYKGMpIHtcbiAgICAgICAgLy8gQWR2YW5jZSBwb3NpdGlvbiBpbiB0aGUgc2VjdGlvblxuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbihTVFJJTkdTLlVURjE2TEVfWE1MX1BSRUZJWCwgYykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5VVEYxNkxFX1hNTF9QUkVGSVgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0aGUgd2hvbGUgcHJlZml4XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoXCJ1dGYtMTZsZVwiLCBSZXN1bHRUeXBlLlhNTF9QUkVGSVgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCT00xNkxFKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IFNUUklOR1MuVVRGMTZMRV9CT01bMV0pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzdWx0KFwidXRmLTE2bGVcIiwgUmVzdWx0VHlwZS5CT00pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCT00xNkJFKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IFNUUklOR1MuVVRGMTZCRV9CT01bMV0pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzdWx0KFwidXRmLTE2YmVcIiwgUmVzdWx0VHlwZS5CT00pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCT004KGMpIHtcbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb24oU1RSSU5HUy5VVEY4X0JPTSwgYykgJiZcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID09PSBTVFJJTkdTLlVURjhfQk9NLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoXCJ1dGYtOFwiLCBSZXN1bHRUeXBlLkJPTSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCZWZvcmVUYWcoYykge1xuICAgICAgICBpZiAoYyA9PT0gQ2hhcnMuTFQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWdOYW1lO1xuICAgICAgICAgICAgdGhpcy5pbk1ldGFUYWcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXZSBoYXZlIHNlZW4gYSBgPGAsIGFuZCBub3cgaGF2ZSB0byBmaWd1cmUgb3V0IHdoYXQgdG8gZG8uXG4gICAgICpcbiAgICAgKiBPcHRpb25zOlxuICAgICAqICAtIGA8bWV0YWBcbiAgICAgKiAgLSBBbnkgb3RoZXIgdGFnXG4gICAgICogIC0gQSBjbG9zaW5nIHRhZ1xuICAgICAqICAtIGA8IS0tYFxuICAgICAqICAtIEFuIFhNTCBkZWNsYXJhdGlvblxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGVCZWZvcmVUYWdOYW1lKGMpIHtcbiAgICAgICAgaWYgKGlzQXNjaWlBbHBoYShjKSkge1xuICAgICAgICAgICAgaWYgKChjIHwgMHgyMCkgPT09IFNUUklOR1MuTUVUQVswXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuVGFnTmFtZU1ldGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuVGFnTmFtZU90aGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgICAgIGNhc2UgQ2hhcnMuU0xBU0g6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZUNsb3NlVGFnTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQ2hhcnMuRVhDTEFNQVRJT046IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkNvbW1lbnRTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBDaGFycy5RVUVTVElPTjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV2VpcmRUYWc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWcoYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUJlZm9yZUNsb3NlVGFnTmFtZShjKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBpc0FzY2lpQWxwaGEoYylcbiAgICAgICAgICAgID8gLy8gU3dpdGNoIHRvIGBUYWdOYW1lT3RoZXJgOyB0aGUgSFRNTCBzcGVjIGFsbG93cyBhdHRyaWJ1dGVzIGhlcmUgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICBTdGF0ZS5UYWdOYW1lT3RoZXJcbiAgICAgICAgICAgIDogU3RhdGUuV2VpcmRUYWc7XG4gICAgfVxuICAgIHN0YXRlQ29tbWVudFN0YXJ0KGMpIHtcbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb24oU1RSSU5HUy5DT01NRU5UX1NUQVJULCBjKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4ID09PSBTVFJJTkdTLkNPTU1FTlRfU1RBUlQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkNvbW1lbnRFbmQ7XG4gICAgICAgICAgICAgICAgLy8gVGhlIC0tIG9mIHRoZSBjb21tZW50IHN0YXJ0IGNhbiBiZSBwYXJ0IG9mIHRoZSBlbmQuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldlaXJkVGFnO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVdlaXJkVGFnKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQ29tbWVudEVuZChjKSB7XG4gICAgICAgIGlmICh0aGlzLmFkdmFuY2VTZWN0aW9uKFNUUklOR1MuQ09NTUVOVF9FTkQsIGMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuQ09NTUVOVF9FTkQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSBDaGFycy5EQVNIKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogSWYgd2UgYXJlIGhlcmUsIHdlIGtub3cgd2UgZXhwZWN0ZWQgYSBgPmAgYWJvdmUuXG4gICAgICAgICAgICAgKiBTZXQgdGhpcyB0byAyLCB0byBzdXBwb3J0IG1hbnkgZGFzaGVzIGJlZm9yZSB0aGUgY2xvc2luZyBgPmAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbnkgc2VjdGlvbiBzdGFydGluZyB3aXRoIGA8IWAsIGA8P2AsIGA8L2AsIHdpdGhvdXQgYmVpbmcgYSBjbG9zaW5nIHRhZyBvciBjb21tZW50LlxuICAgICAqL1xuICAgIHN0YXRlV2VpcmRUYWcoYykge1xuICAgICAgICBpZiAoYyA9PT0gQ2hhcnMuR1QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWR2YW5jZXMgdGhlIHNlY3Rpb24sIGlnbm9yaW5nIHVwcGVyL2xvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgdGhlIHNlY3Rpb24gaGFzIGxlZnQtb3ZlciBjaGFyYWN0ZXJzIGJlZm9yZSBjYWxsaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYGZhbHNlYCBpZiB3ZSBkaWQgbm90IG1hdGNoIHRoZSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGFkdmFuY2VTZWN0aW9uSUMoc2VjdGlvbiwgYykge1xuICAgICAgICByZXR1cm4gdGhpcy5hZHZhbmNlU2VjdGlvbihzZWN0aW9uLCBjIHwgMHgyMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkdmFuY2VzIHRoZSBzZWN0aW9uLlxuICAgICAqXG4gICAgICogTWFrZSBzdXJlIHRoZSBzZWN0aW9uIGhhcyBsZWZ0LW92ZXIgY2hhcmFjdGVycyBiZWZvcmUgY2FsbGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGBmYWxzZWAgaWYgd2UgZGlkIG5vdCBtYXRjaCB0aGUgc2VjdGlvbi5cbiAgICAgKi9cbiAgICBhZHZhbmNlU2VjdGlvbihzZWN0aW9uLCBjKSB7XG4gICAgICAgIGlmIChzZWN0aW9uW3RoaXMuc2VjdGlvbkluZGV4XSA9PT0gYykge1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXgrKztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdGF0ZVRhZ05hbWVNZXRhKGMpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4IDwgU1RSSU5HUy5NRVRBLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb25JQyhTVFJJTkdTLk1FVEEsIGMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpKSB7XG4gICAgICAgICAgICB0aGlzLmluTWV0YVRhZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmdvdFByYWdtYSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUHJhZ21hID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlRhZ05hbWVPdGhlcjtcbiAgICAgICAgLy8gUmVjb25zdW1lIGluIGNhc2UgdGhlcmUgaXMgYSBgPmAuXG4gICAgICAgIHRoaXMuc3RhdGVUYWdOYW1lT3RoZXIoYyk7XG4gICAgfVxuICAgIHN0YXRlVGFnTmFtZU90aGVyKGMpIHtcbiAgICAgICAgaWYgKFNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlQXR0cmlidXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IENoYXJzLkdUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQmVmb3JlQXR0cmlidXRlKGMpIHtcbiAgICAgICAgaWYgKFNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5pbk1ldGFUYWcpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvd2VyID0gYyB8IDB4MjA7XG4gICAgICAgICAgICBpZiAobG93ZXIgPT09IFNUUklOR1MuSFRUUF9FUVVJVlswXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUF0dHJpYkh0dHBFcXVpdjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb3dlciA9PT0gU1RSSU5HUy5DSEFSU0VUWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQXR0cmliQztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9XG4gICAgICAgICAgICBjID09PSBDaGFycy5TTEFTSCB8fCBjID09PSBDaGFycy5HVFxuICAgICAgICAgICAgICAgID8gU3RhdGUuQmVmb3JlVGFnXG4gICAgICAgICAgICAgICAgOiBTdGF0ZS5BbnlBdHRyaWJOYW1lO1xuICAgIH1cbiAgICBoYW5kbGVNZXRhQXR0cmliKGMsIHNlY3Rpb24sIHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb25JQyhzZWN0aW9uLCBjKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4ID09PSBzZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmliVHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFBdHRyaWJBZnRlck5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQW55QXR0cmliTmFtZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBbnlBdHRyaWJOYW1lKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlTWV0YUF0dHJpYkh0dHBFcXVpdihjKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTWV0YUF0dHJpYihjLCBTVFJJTkdTLkhUVFBfRVFVSVYsIEF0dHJpYlR5cGUuSHR0cEVxdWl2KTtcbiAgICB9XG4gICAgc3RhdGVNZXRhQXR0cmliQyhjKSB7XG4gICAgICAgIGNvbnN0IGxvd2VyID0gYyB8IDB4MjA7XG4gICAgICAgIGlmIChsb3dlciA9PT0gU1RSSU5HUy5DSEFSU0VUWzFdKSB7XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDI7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUF0dHJpYkNoYXJzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobG93ZXIgPT09IFNUUklOR1MuQ09OVEVOVFsxXSkge1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAyO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFBdHRyaWJDb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkFueUF0dHJpYk5hbWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQW55QXR0cmliTmFtZShjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFBdHRyaWJDaGFyc2V0KGMpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXRhQXR0cmliKGMsIFNUUklOR1MuQ0hBUlNFVCwgQXR0cmliVHlwZS5DaGFyc2V0KTtcbiAgICB9XG4gICAgc3RhdGVNZXRhQXR0cmliQ29udGVudChjKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTWV0YUF0dHJpYihjLCBTVFJJTkdTLkNPTlRFTlQsIEF0dHJpYlR5cGUuQ29udGVudCk7XG4gICAgfVxuICAgIHN0YXRlTWV0YUF0dHJpYkFmdGVyTmFtZShjKSB7XG4gICAgICAgIGlmIChTUEFDRV9DSEFSQUNURVJTLmhhcyhjKSB8fCBjID09PSBDaGFycy5FUVVBTFMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5BZnRlckF0dHJpYnV0ZU5hbWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQWZ0ZXJBdHRyaWJ1dGVOYW1lKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkFueUF0dHJpYk5hbWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQW55QXR0cmliTmFtZShjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUFueUF0dHJpYk5hbWUoYykge1xuICAgICAgICBpZiAoU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmliVHlwZSA9IEF0dHJpYlR5cGUuTm9uZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5BZnRlckF0dHJpYnV0ZU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gQ2hhcnMuU0xBU0ggfHwgYyA9PT0gQ2hhcnMuR1QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gQ2hhcnMuRVFVQUxTKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlQXR0cmlidXRlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVBZnRlckF0dHJpYnV0ZU5hbWUoYykge1xuICAgICAgICBpZiAoU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjID09PSBDaGFycy5FUVVBTFMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlQXR0cmlidXRlKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQmVmb3JlQXR0cmlidXRlVmFsdWUoYykge1xuICAgICAgICBpZiAoU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAwO1xuICAgICAgICBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgdGhpcy5xdW90ZUNoYXJhY3RlciA9IGM7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID1cbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYlR5cGUgPT09IEF0dHJpYlR5cGUuQ29udGVudFxuICAgICAgICAgICAgICAgICAgICA/IFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZ1xuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuYXR0cmliVHlwZSA9PT0gQXR0cmliVHlwZS5IdHRwRXF1aXZcbiAgICAgICAgICAgICAgICAgICAgICAgID8gU3RhdGUuTWV0YUF0dHJpYkh0dHBFcXVpdlZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFN0YXRlLkF0dHJpYnV0ZVZhbHVlUXVvdGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXR0cmliVHlwZSA9PT0gQXR0cmliVHlwZS5Db250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlRW5jb2Rpbmc7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlRW5jb2RpbmcoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdHRyaWJUeXBlID09PSBBdHRyaWJUeXBlLkh0dHBFcXVpdikge1xuICAgICAgICAgICAgLy8gV2UgdXNlIGBxdW90ZUNoYXJhY3RlciA9IDBgIHRvIHNpZ25pZnkgdGhhdCB0aGUgdmFsdWUgaXMgdW5xdW90ZWQuXG4gICAgICAgICAgICB0aGlzLnF1b3RlQ2hhcmFjdGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQXR0cmliSHR0cEVxdWl2VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUF0dHJpYkh0dHBFcXVpdlZhbHVlKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgdmFsdWUgaGFzIHRvIGJlIGBjb250ZW50LXR5cGVgXG4gICAgc3RhdGVNZXRhQXR0cmliSHR0cEVxdWl2VmFsdWUoYykge1xuICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuQ09OVEVOVF9UWVBFLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucXVvdGVDaGFyYWN0ZXIgPT09IDBcbiAgICAgICAgICAgICAgICA/IEVORF9PRl9VTlFVT1RFRF9BVFRSSUJVVEVfVkFMVUUuaGFzKGMpXG4gICAgICAgICAgICAgICAgOiBjID09PSB0aGlzLnF1b3RlQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNQcmFnbWEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQodGhpcy5uZWVkc1ByYWdtYSwgUmVzdWx0VHlwZS5NRVRBX1RBRyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZ290UHJhZ21hID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ290UHJhZ21hID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZUF0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbklDKFNUUklOR1MuQ09OVEVOVF9UWVBFLCBjKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ290UHJhZ21hID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnF1b3RlQ2hhcmFjdGVyID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQXR0cmlidXRlVmFsdWVVbnF1b3RlZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkF0dHJpYnV0ZVZhbHVlUXVvdGVkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlUXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZU1ldGFDb250ZW50VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZVZhbHVlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZW5jb2RpbmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLnRoaXMuYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5nb3RQcmFnbWEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzdWx0KGVuY29kaW5nLCBSZXN1bHRUeXBlLk1FVEFfVEFHKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm5lZWRzUHJhZ21hID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBvdmVycmlkZSBhIHByZXZpb3VzIHJlc3VsdC5cbiAgICAgICAgICAgIHRoaXMubmVlZHNQcmFnbWEgPSBlbmNvZGluZztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIGhhbmRsZUF0dHJpYnV0ZVZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5hdHRyaWJUeXBlID09PSBBdHRyaWJUeXBlLkNoYXJzZXQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzdWx0KFN0cmluZy5mcm9tQ2hhckNvZGUoLi4udGhpcy5hdHRyaWJ1dGVWYWx1ZSksIFJlc3VsdFR5cGUuTUVUQV9UQUcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQXR0cmlidXRlVmFsdWVVbnF1b3RlZChjKSB7XG4gICAgICAgIGlmIChTUEFDRV9DSEFSQUNURVJTLmhhcyhjKSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVBdHRyaWJ1dGVWYWx1ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZUF0dHJpYnV0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSBDaGFycy5TTEFTSCB8fCBjID09PSBDaGFycy5HVCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVBdHRyaWJ1dGVWYWx1ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF0dHJpYlR5cGUgPT09IEF0dHJpYlR5cGUuQ2hhcnNldCkge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZS5wdXNoKGMgfCAoYyA+PSAweDQxICYmIGMgPD0gMHg1YSA/IDB4MjAgOiAwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZE1ldGFDb250ZW50RW5jb2RpbmcoYykge1xuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbklDKFNUUklOR1MuQ0hBUlNFVCwgYykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5DSEFSU0VULmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyZWQgYW5vdGhlciBgY2AsIGFzc3VtZSB3ZSBzdGFydGVkIG92ZXIuXG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IE51bWJlcihjID09PSBTVFJJTkdTLkNIQVJTRVRbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVFbmNvZGluZyhjKSB7XG4gICAgICAgIGlmIChFTkRfT0ZfVU5RVU9URURfQVRUUklCVVRFX1ZBTFVFLmhhcyhjKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuQ0hBUlNFVC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChjID09PSBDaGFycy5FUVVBTFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpbmRNZXRhQ29udGVudEVuY29kaW5nKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlVmFsdWUoYykge1xuICAgICAgICBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgdGhpcy5xdW90ZUNoYXJhY3RlciA9IGM7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVRdW90ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoRU5EX09GX1VOUVVPVEVEX0FUVFJJQlVURV9WQUxVRS5oYXMoYykpIHtcbiAgICAgICAgICAgIC8vIENhbid0IGhhdmUgc3BhY2VzIGhlcmUsIGFzIGl0IHdvdWxkIG5vIGxvbmdlciBiZSBwYXJ0IG9mIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVVucXVvdGVkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVF1b3RlZChjKSB7XG4gICAgICAgIGlmIChFTkRfT0ZfVU5RVU9URURfQVRUUklCVVRFX1ZBTFVFLmhhcyhjKSkge1xuICAgICAgICAgICAgLy8gUXVvdGVzIHdlcmVuJ3QgbWF0Y2hlZCwgc28gd2UncmUgZG9uZS5cbiAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IHRoaXMucXVvdGVDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTWV0YUNvbnRlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLnB1c2goYyB8IChjID49IDB4NDEgJiYgYyA8PSAweDVhID8gMHgyMCA6IDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWQoYykge1xuICAgICAgICBpZiAoRU5EX09GX1VOUVVPVEVEX0FUVFJJQlVURV9WQUxVRS5oYXMoYykgfHwgYyA9PT0gQ2hhcnMuU0VNSUNPTE9OKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1ldGFDb250ZW50VmFsdWUoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5BdHRyaWJ1dGVWYWx1ZVVucXVvdGVkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLnB1c2goYyB8IChjID49IDB4NDEgJiYgYyA8PSAweDVhID8gMHgyMCA6IDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVVucXVvdGVkKGMpIHtcbiAgICAgICAgaWYgKGlzUXVvdGUoYykgfHwgU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykgfHwgYyA9PT0gQ2hhcnMuU0VNSUNPTE9OKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1ldGFDb250ZW50VmFsdWUoKTtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBkb25lIHdpdGggdGhlIHZhbHVlLCBidXQgbWlnaHQgbm90IGJlIGF0IHRoZSBlbmQgb2YgdGhlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkF0dHJpYnV0ZVZhbHVlUXVvdGVkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlUXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZS5wdXNoKGMgfCAoYyA+PSAweDQxICYmIGMgPD0gMHg1YSA/IDB4MjAgOiAwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVRdW90ZWQoYykge1xuICAgICAgICBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSByZWFjaGVkIHRoZSBlbmQgb2Ygb3VyIHZhbHVlLlxuICAgICAgICAgICAgaWYgKGMgIT09IHRoaXMucXVvdGVDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGhhbmRsZSB0aGUgdmFsdWUgaWYgaW5uZXIgcXVvdGVzIHdlcmUgbWF0Y2hlZC5cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1ldGFDb250ZW50VmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5BdHRyaWJ1dGVWYWx1ZVF1b3RlZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUucHVzaChjIHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEgPyAweDIwIDogMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZUVuY29kaW5nKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IHRoaXMucXVvdGVDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZpbmRNZXRhQ29udGVudEVuY29kaW5nKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEFmdGVyRW5jb2Rpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQWZ0ZXJFbmNvZGluZyhjKSB7XG4gICAgICAgIGlmIChjID09PSBDaGFycy5FUVVBTFMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIVNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpKSB7XG4gICAgICAgICAgICAvLyBMb29rIGZvciB0aGUgbmV4dCBlbmNvZGluZ1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlRW5jb2RpbmcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlVmFsdWUoYykge1xuICAgICAgICBpZiAoYyA9PT0gdGhpcy5xdW90ZUNoYXJhY3Rlcikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlUXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVRdW90ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIVNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVBdHRyaWJ1dGVWYWx1ZVF1b3RlZChjKSB7XG4gICAgICAgIGlmIChjID09PSB0aGlzLnF1b3RlQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlQXR0cmlidXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXR0cmliVHlwZSA9PT0gQXR0cmliVHlwZS5DaGFyc2V0KSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLnB1c2goYyB8IChjID49IDB4NDEgJiYgYyA8PSAweDVhID8gMHgyMCA6IDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZWFkIFNUUklOR1MuWE1MX0RFQ0xBUkFUSU9OXG4gICAgc3RhdGVYTUxEZWNsYXJhdGlvbihjKSB7XG4gICAgICAgIGlmICh0aGlzLmFkdmFuY2VTZWN0aW9uKFNUUklOR1MuWE1MX0RFQ0xBUkFUSU9OLCBjKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4ID09PSBTVFJJTkdTLlhNTF9ERUNMQVJBVElPTi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlhNTERlY2xhcmF0aW9uQmVmb3JlRW5jb2Rpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV2VpcmRUYWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVYTUxEZWNsYXJhdGlvbkJlZm9yZUVuY29kaW5nKGMpIHtcbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb24oU1RSSU5HUy5FTkNPRElORywgYykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5FTkNPRElORy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuWE1MRGVjbGFyYXRpb25BZnRlckVuY29kaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IENoYXJzLkdUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyZWQgYW5vdGhlciBgY2AsIGFzc3VtZSB3ZSBzdGFydGVkIG92ZXIuXG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IE51bWJlcihjID09PSBTVFJJTkdTLkVOQ09ESU5HWzBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZVhNTERlY2xhcmF0aW9uQWZ0ZXJFbmNvZGluZyhjKSB7XG4gICAgICAgIGlmIChjID09PSBDaGFycy5FUVVBTFMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5YTUxEZWNsYXJhdGlvbkJlZm9yZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPiBDaGFycy5TUEFDRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldlaXJkVGFnO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVdlaXJkVGFnKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZShjKSB7XG4gICAgICAgIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuWE1MRGVjbGFyYXRpb25WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID4gQ2hhcnMuU1BBQ0UpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XZWlyZFRhZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVXZWlyZFRhZyhjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZVhNTERlY2xhcmF0aW9uVmFsdWUoYykge1xuICAgICAgICBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoU3RyaW5nLmZyb21DaGFyQ29kZSguLi50aGlzLmF0dHJpYnV0ZVZhbHVlKSwgUmVzdWx0VHlwZS5YTUxfRU5DT0RJTkcpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldlaXJkVGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IENoYXJzLkdUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPD0gQ2hhcnMuU1BBQ0UpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XZWlyZFRhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUucHVzaChjIHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEgPyAweDIwIDogMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdyaXRlKGJ1ZmZlcikge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKDsgaW5kZXggPCBidWZmZXIubGVuZ3RoICYmIHRoaXMub2Zmc2V0ICsgaW5kZXggPCB0aGlzLm1heEJ5dGVzOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gYnVmZmVyW2luZGV4XTtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQmVnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZ2luKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CT00xNkJFOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCT00xNkJFKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CT00xNkxFOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCT00xNkxFKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CT004OiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCT004KGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5VVEYxNkxFX1hNTF9QUkVGSVg6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVVURjE2TEVfWE1MX1BSRUZJWChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQmVnaW5MVDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQmVnaW5MVChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuVVRGMTZCRV9YTUxfUFJFRklYOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVVVEYxNkJFX1hNTF9QUkVGSVgoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJlZm9yZVRhZzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBPcHRpbWl6YXRpb246IFNraXAgYWxsIGNoYXJhY3RlcnMgdW50aWwgd2UgZmluZCBhIGA8YFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBidWZmZXIuaW5kZXhPZihDaGFycy5MVCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGRvbmUgd2l0aCB0aGlzIGJ1ZmZlci4gU3RheSBpbiB0aGUgc3RhdGUgYW5kIHRyeSBvbiB0aGUgbmV4dCBvbmUuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGlkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWcoQ2hhcnMuTFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJlZm9yZVRhZ05hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZVRhZ05hbWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJlZm9yZUNsb3NlVGFnTmFtZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlQ2xvc2VUYWdOYW1lKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5Db21tZW50U3RhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNvbW1lbnRTdGFydChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQ29tbWVudEVuZDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ29tbWVudEVuZChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuVGFnTmFtZU1ldGE6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRhZ05hbWVNZXRhKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5UYWdOYW1lT3RoZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRhZ05hbWVPdGhlcihjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuWE1MRGVjbGFyYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVhNTERlY2xhcmF0aW9uKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5YTUxEZWNsYXJhdGlvbkJlZm9yZUVuY29kaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVYTUxEZWNsYXJhdGlvbkJlZm9yZUVuY29kaW5nKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5YTUxEZWNsYXJhdGlvbkFmdGVyRW5jb2Rpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVhNTERlY2xhcmF0aW9uQWZ0ZXJFbmNvZGluZyhjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuWE1MRGVjbGFyYXRpb25WYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlWE1MRGVjbGFyYXRpb25WYWx1ZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuV2VpcmRUYWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVdlaXJkVGFnKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZUF0dHJpYnV0ZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUF0dHJpYkh0dHBFcXVpdjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUF0dHJpYkh0dHBFcXVpdihjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUF0dHJpYkh0dHBFcXVpdlZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQXR0cmliSHR0cEVxdWl2VmFsdWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFBdHRyaWJDOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQXR0cmliQyhjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUF0dHJpYkNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFBdHRyaWJDb250ZW50KGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQXR0cmliQ2hhcnNldDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUF0dHJpYkNoYXJzZXQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFBdHRyaWJBZnRlck5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFBdHRyaWJBZnRlck5hbWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZUVuY29kaW5nKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkQWZ0ZXJFbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEFmdGVyRW5jb2RpbmcoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZVZhbHVlKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVRdW90ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVF1b3RlZChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVVucXVvdGVkKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVFbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlRW5jb2RpbmcoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVWYWx1ZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVRdW90ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlUXVvdGVkKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVVucXVvdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVVucXVvdGVkKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5BbnlBdHRyaWJOYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVBbnlBdHRyaWJOYW1lKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5BZnRlckF0dHJpYnV0ZU5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUFmdGVyQXR0cmlidXRlTmFtZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQmVmb3JlQXR0cmlidXRlVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZUF0dHJpYnV0ZVZhbHVlKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5BdHRyaWJ1dGVWYWx1ZVF1b3RlZDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVRdW90ZWQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9mZnNldCArPSBpbmRleDtcbiAgICB9XG59XG4vKiogR2V0IHRoZSBlbmNvZGluZyBmb3IgdGhlIHBhc3NlZCBidWZmZXIuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5jb2RpbmcoYnVmZmVyLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc25pZmZlciA9IG5ldyBTbmlmZmVyKG9wdGlvbnMpO1xuICAgIHNuaWZmZXIud3JpdGUoYnVmZmVyKTtcbiAgICByZXR1cm4gc25pZmZlci5lbmNvZGluZztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNuaWZmZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/encoding-sniffer/dist/esm/sniffer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/encoding-sniffer/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/encoding-sniffer/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DecodeStream: () => (/* binding */ DecodeStream),\n/* harmony export */   decodeBuffer: () => (/* binding */ decodeBuffer),\n/* harmony export */   getEncoding: () => (/* reexport safe */ _sniffer_js__WEBPACK_IMPORTED_MODULE_2__.getEncoding)\n/* harmony export */ });\n/* harmony import */ var node_stream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:stream */ \"node:stream\");\n/* harmony import */ var iconv_lite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! iconv-lite */ \"(rsc)/./node_modules/iconv-lite/lib/index.js\");\n/* harmony import */ var _sniffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sniffer.js */ \"(rsc)/./node_modules/encoding-sniffer/dist/esm/sniffer.js\");\n\n\n\n/**\n * Sniff the encoding of a buffer, then decode it.\n *\n * @param buffer Buffer to be decoded\n * @param options Options for the sniffer\n * @returns The decoded buffer\n */ function decodeBuffer(buffer, options = {}) {\n    return iconv_lite__WEBPACK_IMPORTED_MODULE_1__.decode(buffer, (0,_sniffer_js__WEBPACK_IMPORTED_MODULE_2__.getEncoding)(buffer, options));\n}\n/**\n * Decodes a stream of buffers into a stream of strings.\n *\n * Reads the first 1024 bytes and passes them to the sniffer. Once an encoding\n * has been determined, it passes all data to iconv-lite's stream and outputs\n * the results.\n */ class DecodeStream extends node_stream__WEBPACK_IMPORTED_MODULE_0__.Transform {\n    constructor(options){\n        var _a;\n        super({\n            decodeStrings: false,\n            encoding: \"utf-8\"\n        });\n        this.buffers = [];\n        /** The iconv decode stream. If it is set, we have read more than `options.maxBytes` bytes. */ this.iconv = null;\n        this.readBytes = 0;\n        this.sniffer = new _sniffer_js__WEBPACK_IMPORTED_MODULE_2__.Sniffer(options);\n        this.maxBytes = (_a = options === null || options === void 0 ? void 0 : options.maxBytes) !== null && _a !== void 0 ? _a : 1024;\n    }\n    _transform(chunk, _encoding, callback) {\n        if (this.readBytes < this.maxBytes) {\n            this.sniffer.write(chunk);\n            this.readBytes += chunk.length;\n            if (this.readBytes < this.maxBytes) {\n                this.buffers.push(chunk);\n                callback();\n                return;\n            }\n        }\n        this.getIconvStream().write(chunk, callback);\n    }\n    getIconvStream() {\n        if (this.iconv) {\n            return this.iconv;\n        }\n        const stream = iconv_lite__WEBPACK_IMPORTED_MODULE_1__.decodeStream(this.sniffer.encoding);\n        stream.on(\"data\", (chunk)=>this.push(chunk, \"utf-8\"));\n        stream.on(\"end\", ()=>this.push(null));\n        this.iconv = stream;\n        for (const buffer of this.buffers){\n            stream.write(buffer);\n        }\n        this.buffers.length = 0;\n        return stream;\n    }\n    _flush(callback) {\n        this.getIconvStream().end(callback);\n    }\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZW5jb2Rpbmctc25pZmZlci9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0M7QUFDVDtBQUNxQjtBQUNwRDs7Ozs7O0NBTUMsR0FDTSxTQUFTSSxhQUFhQyxNQUFNLEVBQUVDLFVBQVUsQ0FBQyxDQUFDO0lBQzdDLE9BQU9MLDhDQUFZLENBQUNJLFFBQVFGLHdEQUFXQSxDQUFDRSxRQUFRQztBQUNwRDtBQUNBOzs7Ozs7Q0FNQyxHQUNNLE1BQU1FLHFCQUFxQlIsa0RBQVNBO0lBQ3ZDUyxZQUFZSCxPQUFPLENBQUU7UUFDakIsSUFBSUk7UUFDSixLQUFLLENBQUM7WUFBRUMsZUFBZTtZQUFPQyxVQUFVO1FBQVE7UUFDaEQsSUFBSSxDQUFDQyxPQUFPLEdBQUcsRUFBRTtRQUNqQiw0RkFBNEYsR0FDNUYsSUFBSSxDQUFDWixLQUFLLEdBQUc7UUFDYixJQUFJLENBQUNhLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNDLE9BQU8sR0FBRyxJQUFJYixnREFBT0EsQ0FBQ0k7UUFDM0IsSUFBSSxDQUFDVSxRQUFRLEdBQUcsQ0FBQ04sS0FBS0osWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFVLFFBQVEsTUFBTSxRQUFRTixPQUFPLEtBQUssSUFBSUEsS0FBSztJQUMvSDtJQUNBTyxXQUFXQyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxFQUFFO1FBQ25DLElBQUksSUFBSSxDQUFDTixTQUFTLEdBQUcsSUFBSSxDQUFDRSxRQUFRLEVBQUU7WUFDaEMsSUFBSSxDQUFDRCxPQUFPLENBQUNNLEtBQUssQ0FBQ0g7WUFDbkIsSUFBSSxDQUFDSixTQUFTLElBQUlJLE1BQU1JLE1BQU07WUFDOUIsSUFBSSxJQUFJLENBQUNSLFNBQVMsR0FBRyxJQUFJLENBQUNFLFFBQVEsRUFBRTtnQkFDaEMsSUFBSSxDQUFDSCxPQUFPLENBQUNVLElBQUksQ0FBQ0w7Z0JBQ2xCRTtnQkFDQTtZQUNKO1FBQ0o7UUFDQSxJQUFJLENBQUNJLGNBQWMsR0FBR0gsS0FBSyxDQUFDSCxPQUFPRTtJQUN2QztJQUNBSSxpQkFBaUI7UUFDYixJQUFJLElBQUksQ0FBQ3ZCLEtBQUssRUFBRTtZQUNaLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1FBQ3JCO1FBQ0EsTUFBTXdCLFNBQVN4QixvREFBa0IsQ0FBQyxJQUFJLENBQUNjLE9BQU8sQ0FBQ0gsUUFBUTtRQUN2RGEsT0FBT0UsRUFBRSxDQUFDLFFBQVEsQ0FBQ1QsUUFBVSxJQUFJLENBQUNLLElBQUksQ0FBQ0wsT0FBTztRQUM5Q08sT0FBT0UsRUFBRSxDQUFDLE9BQU8sSUFBTSxJQUFJLENBQUNKLElBQUksQ0FBQztRQUNqQyxJQUFJLENBQUN0QixLQUFLLEdBQUd3QjtRQUNiLEtBQUssTUFBTXBCLFVBQVUsSUFBSSxDQUFDUSxPQUFPLENBQUU7WUFDL0JZLE9BQU9KLEtBQUssQ0FBQ2hCO1FBQ2pCO1FBQ0EsSUFBSSxDQUFDUSxPQUFPLENBQUNTLE1BQU0sR0FBRztRQUN0QixPQUFPRztJQUNYO0lBQ0FHLE9BQU9SLFFBQVEsRUFBRTtRQUNiLElBQUksQ0FBQ0ksY0FBYyxHQUFHSyxHQUFHLENBQUNUO0lBQzlCO0FBQ0o7QUFDMkMsQ0FDM0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHl1c3QtY291cnNlLXNlbGVjdG9yLy4vbm9kZV9tb2R1bGVzL2VuY29kaW5nLXNuaWZmZXIvZGlzdC9lc20vaW5kZXguanM/NjUxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwibm9kZTpzdHJlYW1cIjtcbmltcG9ydCBpY29udiBmcm9tIFwiaWNvbnYtbGl0ZVwiO1xuaW1wb3J0IHsgU25pZmZlciwgZ2V0RW5jb2RpbmcgfSBmcm9tIFwiLi9zbmlmZmVyLmpzXCI7XG4vKipcbiAqIFNuaWZmIHRoZSBlbmNvZGluZyBvZiBhIGJ1ZmZlciwgdGhlbiBkZWNvZGUgaXQuXG4gKlxuICogQHBhcmFtIGJ1ZmZlciBCdWZmZXIgdG8gYmUgZGVjb2RlZFxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIHNuaWZmZXJcbiAqIEByZXR1cm5zIFRoZSBkZWNvZGVkIGJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlQnVmZmVyKGJ1ZmZlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGljb252LmRlY29kZShidWZmZXIsIGdldEVuY29kaW5nKGJ1ZmZlciwgb3B0aW9ucykpO1xufVxuLyoqXG4gKiBEZWNvZGVzIGEgc3RyZWFtIG9mIGJ1ZmZlcnMgaW50byBhIHN0cmVhbSBvZiBzdHJpbmdzLlxuICpcbiAqIFJlYWRzIHRoZSBmaXJzdCAxMDI0IGJ5dGVzIGFuZCBwYXNzZXMgdGhlbSB0byB0aGUgc25pZmZlci4gT25jZSBhbiBlbmNvZGluZ1xuICogaGFzIGJlZW4gZGV0ZXJtaW5lZCwgaXQgcGFzc2VzIGFsbCBkYXRhIHRvIGljb252LWxpdGUncyBzdHJlYW0gYW5kIG91dHB1dHNcbiAqIHRoZSByZXN1bHRzLlxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoeyBkZWNvZGVTdHJpbmdzOiBmYWxzZSwgZW5jb2Rpbmc6IFwidXRmLThcIiB9KTtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIC8qKiBUaGUgaWNvbnYgZGVjb2RlIHN0cmVhbS4gSWYgaXQgaXMgc2V0LCB3ZSBoYXZlIHJlYWQgbW9yZSB0aGFuIGBvcHRpb25zLm1heEJ5dGVzYCBieXRlcy4gKi9cbiAgICAgICAgdGhpcy5pY29udiA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZEJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5zbmlmZmVyID0gbmV3IFNuaWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWF4Qnl0ZXMgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWF4Qnl0ZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEwMjQ7XG4gICAgfVxuICAgIF90cmFuc2Zvcm0oY2h1bmssIF9lbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZEJ5dGVzIDwgdGhpcy5tYXhCeXRlcykge1xuICAgICAgICAgICAgdGhpcy5zbmlmZmVyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICAgIHRoaXMucmVhZEJ5dGVzICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWRCeXRlcyA8IHRoaXMubWF4Qnl0ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRJY29udlN0cmVhbSgpLndyaXRlKGNodW5rLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGdldEljb252U3RyZWFtKCkge1xuICAgICAgICBpZiAodGhpcy5pY29udikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWNvbnY7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gaWNvbnYuZGVjb2RlU3RyZWFtKHRoaXMuc25pZmZlci5lbmNvZGluZyk7XG4gICAgICAgIHN0cmVhbS5vbihcImRhdGFcIiwgKGNodW5rKSA9PiB0aGlzLnB1c2goY2h1bmssIFwidXRmLThcIikpO1xuICAgICAgICBzdHJlYW0ub24oXCJlbmRcIiwgKCkgPT4gdGhpcy5wdXNoKG51bGwpKTtcbiAgICAgICAgdGhpcy5pY29udiA9IHN0cmVhbTtcbiAgICAgICAgZm9yIChjb25zdCBidWZmZXIgb2YgdGhpcy5idWZmZXJzKSB7XG4gICAgICAgICAgICBzdHJlYW0ud3JpdGUoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG4gICAgX2ZsdXNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZ2V0SWNvbnZTdHJlYW0oKS5lbmQoY2FsbGJhY2spO1xuICAgIH1cbn1cbmV4cG9ydCB7IGdldEVuY29kaW5nIH0gZnJvbSBcIi4vc25pZmZlci5qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIlRyYW5zZm9ybSIsImljb252IiwiU25pZmZlciIsImdldEVuY29kaW5nIiwiZGVjb2RlQnVmZmVyIiwiYnVmZmVyIiwib3B0aW9ucyIsImRlY29kZSIsIkRlY29kZVN0cmVhbSIsImNvbnN0cnVjdG9yIiwiX2EiLCJkZWNvZGVTdHJpbmdzIiwiZW5jb2RpbmciLCJidWZmZXJzIiwicmVhZEJ5dGVzIiwic25pZmZlciIsIm1heEJ5dGVzIiwiX3RyYW5zZm9ybSIsImNodW5rIiwiX2VuY29kaW5nIiwiY2FsbGJhY2siLCJ3cml0ZSIsImxlbmd0aCIsInB1c2giLCJnZXRJY29udlN0cmVhbSIsInN0cmVhbSIsImRlY29kZVN0cmVhbSIsIm9uIiwiX2ZsdXNoIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/encoding-sniffer/dist/esm/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/encoding-sniffer/dist/esm/sniffer.js":
/*!***********************************************************!*\
  !*** ./node_modules/encoding-sniffer/dist/esm/sniffer.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResultType: () => (/* binding */ ResultType),\n/* harmony export */   STRINGS: () => (/* binding */ STRINGS),\n/* harmony export */   Sniffer: () => (/* binding */ Sniffer),\n/* harmony export */   getEncoding: () => (/* binding */ getEncoding)\n/* harmony export */ });\n/* harmony import */ var whatwg_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! whatwg-encoding */ \"(rsc)/./node_modules/whatwg-encoding/lib/whatwg-encoding.js\");\n\n// https://html.spec.whatwg.org/multipage/syntax.html#prescan-a-byte-stream-to-determine-its-encoding\nvar State;\n(function(State) {\n    // Before anything starts; can be any of BOM, UTF-16 XML declarations or meta tags\n    State[State[\"Begin\"] = 0] = \"Begin\";\n    // Inside of a BOM\n    State[State[\"BOM16BE\"] = 1] = \"BOM16BE\";\n    State[State[\"BOM16LE\"] = 2] = \"BOM16LE\";\n    State[State[\"BOM8\"] = 3] = \"BOM8\";\n    // XML prefix\n    State[State[\"UTF16LE_XML_PREFIX\"] = 4] = \"UTF16LE_XML_PREFIX\";\n    State[State[\"BeginLT\"] = 5] = \"BeginLT\";\n    State[State[\"UTF16BE_XML_PREFIX\"] = 6] = \"UTF16BE_XML_PREFIX\";\n    // Waiting for opening `<`\n    State[State[\"BeforeTag\"] = 7] = \"BeforeTag\";\n    // After the opening `<`\n    State[State[\"BeforeTagName\"] = 8] = \"BeforeTagName\";\n    // After `</`\n    State[State[\"BeforeCloseTagName\"] = 9] = \"BeforeCloseTagName\";\n    // Beginning of a comment\n    State[State[\"CommentStart\"] = 10] = \"CommentStart\";\n    // End of a comment\n    State[State[\"CommentEnd\"] = 11] = \"CommentEnd\";\n    // A tag name that could be `meta`\n    State[State[\"TagNameMeta\"] = 12] = \"TagNameMeta\";\n    // A tag name that is not `meta`\n    State[State[\"TagNameOther\"] = 13] = \"TagNameOther\";\n    // XML declaration\n    State[State[\"XMLDeclaration\"] = 14] = \"XMLDeclaration\";\n    State[State[\"XMLDeclarationBeforeEncoding\"] = 15] = \"XMLDeclarationBeforeEncoding\";\n    State[State[\"XMLDeclarationAfterEncoding\"] = 16] = \"XMLDeclarationAfterEncoding\";\n    State[State[\"XMLDeclarationBeforeValue\"] = 17] = \"XMLDeclarationBeforeValue\";\n    State[State[\"XMLDeclarationValue\"] = 18] = \"XMLDeclarationValue\";\n    // Anything that looks like a tag, but doesn't fit in the above categories\n    State[State[\"WeirdTag\"] = 19] = \"WeirdTag\";\n    State[State[\"BeforeAttribute\"] = 20] = \"BeforeAttribute\";\n    /*\n     * Attributes in meta tag â€” we compare them to our set here, and back out\n     * We care about four attributes: http-equiv, content-type, content, charset\n     */ State[State[\"MetaAttribHttpEquiv\"] = 21] = \"MetaAttribHttpEquiv\";\n    // The value has to be `content-type`\n    State[State[\"MetaAttribHttpEquivValue\"] = 22] = \"MetaAttribHttpEquivValue\";\n    State[State[\"MetaAttribC\"] = 23] = \"MetaAttribC\";\n    State[State[\"MetaAttribContent\"] = 24] = \"MetaAttribContent\";\n    State[State[\"MetaAttribCharset\"] = 25] = \"MetaAttribCharset\";\n    // Waiting for whitespace\n    State[State[\"MetaAttribAfterName\"] = 26] = \"MetaAttribAfterName\";\n    State[State[\"MetaContentValueQuotedBeforeEncoding\"] = 27] = \"MetaContentValueQuotedBeforeEncoding\";\n    State[State[\"MetaContentValueQuotedAfterEncoding\"] = 28] = \"MetaContentValueQuotedAfterEncoding\";\n    State[State[\"MetaContentValueQuotedBeforeValue\"] = 29] = \"MetaContentValueQuotedBeforeValue\";\n    State[State[\"MetaContentValueQuotedValueQuoted\"] = 30] = \"MetaContentValueQuotedValueQuoted\";\n    State[State[\"MetaContentValueQuotedValueUnquoted\"] = 31] = \"MetaContentValueQuotedValueUnquoted\";\n    State[State[\"MetaContentValueUnquotedBeforeEncoding\"] = 32] = \"MetaContentValueUnquotedBeforeEncoding\";\n    State[State[\"MetaContentValueUnquotedBeforeValue\"] = 33] = \"MetaContentValueUnquotedBeforeValue\";\n    State[State[\"MetaContentValueUnquotedValueQuoted\"] = 34] = \"MetaContentValueUnquotedValueQuoted\";\n    State[State[\"MetaContentValueUnquotedValueUnquoted\"] = 35] = \"MetaContentValueUnquotedValueUnquoted\";\n    State[State[\"AnyAttribName\"] = 36] = \"AnyAttribName\";\n    // After the name of an attribute, before the equals sign\n    State[State[\"AfterAttributeName\"] = 37] = \"AfterAttributeName\";\n    // After `=`\n    State[State[\"BeforeAttributeValue\"] = 38] = \"BeforeAttributeValue\";\n    State[State[\"AttributeValueQuoted\"] = 39] = \"AttributeValueQuoted\";\n    State[State[\"AttributeValueUnquoted\"] = 40] = \"AttributeValueUnquoted\";\n})(State || (State = {}));\nvar ResultType;\n(function(ResultType) {\n    // Byte order mark\n    ResultType[ResultType[\"BOM\"] = 0] = \"BOM\";\n    // User- or transport layer-defined\n    ResultType[ResultType[\"PASSED\"] = 1] = \"PASSED\";\n    // XML prefixes\n    ResultType[ResultType[\"XML_PREFIX\"] = 2] = \"XML_PREFIX\";\n    // Meta tag\n    ResultType[ResultType[\"META_TAG\"] = 3] = \"META_TAG\";\n    // XML encoding\n    ResultType[ResultType[\"XML_ENCODING\"] = 4] = \"XML_ENCODING\";\n    // Default\n    ResultType[ResultType[\"DEFAULT\"] = 5] = \"DEFAULT\";\n})(ResultType || (ResultType = {}));\nvar AttribType;\n(function(AttribType) {\n    AttribType[AttribType[\"None\"] = 0] = \"None\";\n    AttribType[AttribType[\"HttpEquiv\"] = 1] = \"HttpEquiv\";\n    AttribType[AttribType[\"Content\"] = 2] = \"Content\";\n    AttribType[AttribType[\"Charset\"] = 3] = \"Charset\";\n})(AttribType || (AttribType = {}));\nvar Chars;\n(function(Chars) {\n    Chars[Chars[\"NIL\"] = 0] = \"NIL\";\n    Chars[Chars[\"TAB\"] = 9] = \"TAB\";\n    Chars[Chars[\"LF\"] = 10] = \"LF\";\n    Chars[Chars[\"CR\"] = 13] = \"CR\";\n    Chars[Chars[\"SPACE\"] = 32] = \"SPACE\";\n    Chars[Chars[\"EXCLAMATION\"] = 33] = \"EXCLAMATION\";\n    Chars[Chars[\"DQUOTE\"] = 34] = \"DQUOTE\";\n    Chars[Chars[\"SQUOTE\"] = 39] = \"SQUOTE\";\n    Chars[Chars[\"DASH\"] = 45] = \"DASH\";\n    Chars[Chars[\"SLASH\"] = 47] = \"SLASH\";\n    Chars[Chars[\"SEMICOLON\"] = 59] = \"SEMICOLON\";\n    Chars[Chars[\"LT\"] = 60] = \"LT\";\n    Chars[Chars[\"EQUALS\"] = 61] = \"EQUALS\";\n    Chars[Chars[\"GT\"] = 62] = \"GT\";\n    Chars[Chars[\"QUESTION\"] = 63] = \"QUESTION\";\n    Chars[Chars[\"UpperA\"] = 65] = \"UpperA\";\n    Chars[Chars[\"UpperZ\"] = 90] = \"UpperZ\";\n    Chars[Chars[\"LowerA\"] = 97] = \"LowerA\";\n    Chars[Chars[\"LowerZ\"] = 122] = \"LowerZ\";\n})(Chars || (Chars = {}));\nconst SPACE_CHARACTERS = new Set([\n    Chars.SPACE,\n    Chars.LF,\n    Chars.CR,\n    Chars.TAB\n]);\nconst END_OF_UNQUOTED_ATTRIBUTE_VALUE = new Set([\n    Chars.SPACE,\n    Chars.LF,\n    Chars.CR,\n    Chars.TAB,\n    Chars.GT\n]);\nfunction toUint8Array(str) {\n    const arr = new Uint8Array(str.length);\n    for(let i = 0; i < str.length; i++){\n        arr[i] = str.charCodeAt(i);\n    }\n    return arr;\n}\nconst STRINGS = {\n    UTF8_BOM: new Uint8Array([\n        0xef,\n        0xbb,\n        0xbf\n    ]),\n    UTF16LE_BOM: new Uint8Array([\n        0xff,\n        0xfe\n    ]),\n    UTF16BE_BOM: new Uint8Array([\n        0xfe,\n        0xff\n    ]),\n    UTF16LE_XML_PREFIX: new Uint8Array([\n        0x3c,\n        0x0,\n        0x3f,\n        0x0,\n        0x78,\n        0x0\n    ]),\n    UTF16BE_XML_PREFIX: new Uint8Array([\n        0x0,\n        0x3c,\n        0x0,\n        0x3f,\n        0x0,\n        0x78\n    ]),\n    XML_DECLARATION: toUint8Array(\"<?xml\"),\n    ENCODING: toUint8Array(\"encoding\"),\n    META: toUint8Array(\"meta\"),\n    HTTP_EQUIV: toUint8Array(\"http-equiv\"),\n    CONTENT: toUint8Array(\"content\"),\n    CONTENT_TYPE: toUint8Array(\"content-type\"),\n    CHARSET: toUint8Array(\"charset\"),\n    COMMENT_START: toUint8Array(\"<!--\"),\n    COMMENT_END: toUint8Array(\"-->\")\n};\nfunction isAsciiAlpha(c) {\n    return c >= Chars.UpperA && c <= Chars.UpperZ || c >= Chars.LowerA && c <= Chars.LowerZ;\n}\nfunction isQuote(c) {\n    return c === Chars.DQUOTE || c === Chars.SQUOTE;\n}\nclass Sniffer {\n    setResult(label, type) {\n        if (this.resultType === ResultType.DEFAULT || this.resultType > type) {\n            const encoding = (0,whatwg_encoding__WEBPACK_IMPORTED_MODULE_0__.labelToName)(label);\n            if (encoding) {\n                this.encoding = // Check if we are in a meta tag and the encoding is `x-user-defined`\n                type === ResultType.META_TAG && encoding === \"x-user-defined\" ? \"windows-1252\" : (type === ResultType.META_TAG || type === ResultType.XML_ENCODING) && (encoding === \"UTF-16LE\" || encoding === \"UTF-16BE\") ? \"UTF-8\" : encoding;\n                this.resultType = type;\n            }\n        }\n    }\n    constructor({ maxBytes = 1024, userEncoding, transportLayerEncodingLabel, defaultEncoding } = {}){\n        /** The offset of the previous buffers. */ this.offset = 0;\n        this.state = State.Begin;\n        this.sectionIndex = 0;\n        this.attribType = AttribType.None;\n        /**\n         * Indicates if the `http-equiv` is `content-type`.\n         *\n         * Initially `null`, a boolean when a value is found.\n         */ this.gotPragma = null;\n        this.needsPragma = null;\n        this.inMetaTag = false;\n        this.encoding = \"windows-1252\";\n        this.resultType = ResultType.DEFAULT;\n        this.quoteCharacter = 0;\n        this.attributeValue = [];\n        this.maxBytes = maxBytes;\n        if (userEncoding) {\n            this.setResult(userEncoding, ResultType.PASSED);\n        }\n        if (transportLayerEncodingLabel) {\n            this.setResult(transportLayerEncodingLabel, ResultType.PASSED);\n        }\n        if (defaultEncoding) {\n            this.setResult(defaultEncoding, ResultType.DEFAULT);\n        }\n    }\n    stateBegin(c) {\n        switch(c){\n            case STRINGS.UTF16BE_BOM[0]:\n                {\n                    this.state = State.BOM16BE;\n                    break;\n                }\n            case STRINGS.UTF16LE_BOM[0]:\n                {\n                    this.state = State.BOM16LE;\n                    break;\n                }\n            case STRINGS.UTF8_BOM[0]:\n                {\n                    this.sectionIndex = 1;\n                    this.state = State.BOM8;\n                    break;\n                }\n            case Chars.NIL:\n                {\n                    this.state = State.UTF16BE_XML_PREFIX;\n                    this.sectionIndex = 1;\n                    break;\n                }\n            case Chars.LT:\n                {\n                    this.state = State.BeginLT;\n                    break;\n                }\n            default:\n                {\n                    this.state = State.BeforeTag;\n                }\n        }\n    }\n    stateBeginLT(c) {\n        if (c === Chars.NIL) {\n            this.state = State.UTF16LE_XML_PREFIX;\n            this.sectionIndex = 2;\n        } else if (c === Chars.QUESTION) {\n            this.state = State.XMLDeclaration;\n            this.sectionIndex = 2;\n        } else {\n            this.state = State.BeforeTagName;\n            this.stateBeforeTagName(c);\n        }\n    }\n    stateUTF16BE_XML_PREFIX(c) {\n        // Advance position in the section\n        if (this.advanceSection(STRINGS.UTF16BE_XML_PREFIX, c)) {\n            if (this.sectionIndex === STRINGS.UTF16BE_XML_PREFIX.length) {\n                // We have the whole prefix\n                this.setResult(\"utf-16be\", ResultType.XML_PREFIX);\n            }\n        } else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateUTF16LE_XML_PREFIX(c) {\n        // Advance position in the section\n        if (this.advanceSection(STRINGS.UTF16LE_XML_PREFIX, c)) {\n            if (this.sectionIndex === STRINGS.UTF16LE_XML_PREFIX.length) {\n                // We have the whole prefix\n                this.setResult(\"utf-16le\", ResultType.XML_PREFIX);\n            }\n        } else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateBOM16LE(c) {\n        if (c === STRINGS.UTF16LE_BOM[1]) {\n            this.setResult(\"utf-16le\", ResultType.BOM);\n        } else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateBOM16BE(c) {\n        if (c === STRINGS.UTF16BE_BOM[1]) {\n            this.setResult(\"utf-16be\", ResultType.BOM);\n        } else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    }\n    stateBOM8(c) {\n        if (this.advanceSection(STRINGS.UTF8_BOM, c) && this.sectionIndex === STRINGS.UTF8_BOM.length) {\n            this.setResult(\"utf-8\", ResultType.BOM);\n        }\n    }\n    stateBeforeTag(c) {\n        if (c === Chars.LT) {\n            this.state = State.BeforeTagName;\n            this.inMetaTag = false;\n        }\n    }\n    /**\n     * We have seen a `<`, and now have to figure out what to do.\n     *\n     * Options:\n     *  - `<meta`\n     *  - Any other tag\n     *  - A closing tag\n     *  - `<!--`\n     *  - An XML declaration\n     *\n     */ stateBeforeTagName(c) {\n        if (isAsciiAlpha(c)) {\n            if ((c | 0x20) === STRINGS.META[0]) {\n                this.sectionIndex = 1;\n                this.state = State.TagNameMeta;\n            } else {\n                this.state = State.TagNameOther;\n            }\n        } else switch(c){\n            case Chars.SLASH:\n                {\n                    this.state = State.BeforeCloseTagName;\n                    break;\n                }\n            case Chars.EXCLAMATION:\n                {\n                    this.state = State.CommentStart;\n                    this.sectionIndex = 2;\n                    break;\n                }\n            case Chars.QUESTION:\n                {\n                    this.state = State.WeirdTag;\n                    break;\n                }\n            default:\n                {\n                    this.state = State.BeforeTag;\n                    this.stateBeforeTag(c);\n                }\n        }\n    }\n    stateBeforeCloseTagName(c) {\n        this.state = isAsciiAlpha(c) ? State.TagNameOther : State.WeirdTag;\n    }\n    stateCommentStart(c) {\n        if (this.advanceSection(STRINGS.COMMENT_START, c)) {\n            if (this.sectionIndex === STRINGS.COMMENT_START.length) {\n                this.state = State.CommentEnd;\n                // The -- of the comment start can be part of the end.\n                this.sectionIndex = 2;\n            }\n        } else {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    }\n    stateCommentEnd(c) {\n        if (this.advanceSection(STRINGS.COMMENT_END, c)) {\n            if (this.sectionIndex === STRINGS.COMMENT_END.length) {\n                this.state = State.BeforeTag;\n            }\n        } else if (c === Chars.DASH) {\n            /*\n             * If we are here, we know we expected a `>` above.\n             * Set this to 2, to support many dashes before the closing `>`.\n             */ this.sectionIndex = 2;\n        }\n    }\n    /**\n     * Any section starting with `<!`, `<?`, `</`, without being a closing tag or comment.\n     */ stateWeirdTag(c) {\n        if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n    }\n    /**\n     * Advances the section, ignoring upper/lower case.\n     *\n     * Make sure the section has left-over characters before calling.\n     *\n     * @returns `false` if we did not match the section.\n     */ advanceSectionIC(section, c) {\n        return this.advanceSection(section, c | 0x20);\n    }\n    /**\n     * Advances the section.\n     *\n     * Make sure the section has left-over characters before calling.\n     *\n     * @returns `false` if we did not match the section.\n     */ advanceSection(section, c) {\n        if (section[this.sectionIndex] === c) {\n            this.sectionIndex++;\n            return true;\n        }\n        this.sectionIndex = 0;\n        return false;\n    }\n    stateTagNameMeta(c) {\n        if (this.sectionIndex < STRINGS.META.length) {\n            if (this.advanceSectionIC(STRINGS.META, c)) {\n                return;\n            }\n        } else if (SPACE_CHARACTERS.has(c)) {\n            this.inMetaTag = true;\n            this.gotPragma = null;\n            this.needsPragma = null;\n            this.state = State.BeforeAttribute;\n            return;\n        }\n        this.state = State.TagNameOther;\n        // Reconsume in case there is a `>`.\n        this.stateTagNameOther(c);\n    }\n    stateTagNameOther(c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.state = State.BeforeAttribute;\n        } else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n    }\n    stateBeforeAttribute(c) {\n        if (SPACE_CHARACTERS.has(c)) return;\n        if (this.inMetaTag) {\n            const lower = c | 0x20;\n            if (lower === STRINGS.HTTP_EQUIV[0]) {\n                this.sectionIndex = 1;\n                this.state = State.MetaAttribHttpEquiv;\n                return;\n            } else if (lower === STRINGS.CHARSET[0]) {\n                this.sectionIndex = 1;\n                this.state = State.MetaAttribC;\n                return;\n            }\n        }\n        this.state = c === Chars.SLASH || c === Chars.GT ? State.BeforeTag : State.AnyAttribName;\n    }\n    handleMetaAttrib(c, section, type) {\n        if (this.advanceSectionIC(section, c)) {\n            if (this.sectionIndex === section.length) {\n                this.attribType = type;\n                this.state = State.MetaAttribAfterName;\n            }\n        } else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    }\n    stateMetaAttribHttpEquiv(c) {\n        this.handleMetaAttrib(c, STRINGS.HTTP_EQUIV, AttribType.HttpEquiv);\n    }\n    stateMetaAttribC(c) {\n        const lower = c | 0x20;\n        if (lower === STRINGS.CHARSET[1]) {\n            this.sectionIndex = 2;\n            this.state = State.MetaAttribCharset;\n        } else if (lower === STRINGS.CONTENT[1]) {\n            this.sectionIndex = 2;\n            this.state = State.MetaAttribContent;\n        } else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    }\n    stateMetaAttribCharset(c) {\n        this.handleMetaAttrib(c, STRINGS.CHARSET, AttribType.Charset);\n    }\n    stateMetaAttribContent(c) {\n        this.handleMetaAttrib(c, STRINGS.CONTENT, AttribType.Content);\n    }\n    stateMetaAttribAfterName(c) {\n        if (SPACE_CHARACTERS.has(c) || c === Chars.EQUALS) {\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        } else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    }\n    stateAnyAttribName(c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.attribType = AttribType.None;\n            this.state = State.AfterAttributeName;\n        } else if (c === Chars.SLASH || c === Chars.GT) {\n            this.state = State.BeforeTag;\n        } else if (c === Chars.EQUALS) {\n            this.state = State.BeforeAttributeValue;\n        }\n    }\n    stateAfterAttributeName(c) {\n        if (SPACE_CHARACTERS.has(c)) return;\n        if (c === Chars.EQUALS) {\n            this.state = State.BeforeAttributeValue;\n        } else {\n            this.state = State.BeforeAttribute;\n            this.stateBeforeAttribute(c);\n        }\n    }\n    stateBeforeAttributeValue(c) {\n        if (SPACE_CHARACTERS.has(c)) return;\n        this.attributeValue.length = 0;\n        this.sectionIndex = 0;\n        if (isQuote(c)) {\n            this.quoteCharacter = c;\n            this.state = this.attribType === AttribType.Content ? State.MetaContentValueQuotedBeforeEncoding : this.attribType === AttribType.HttpEquiv ? State.MetaAttribHttpEquivValue : State.AttributeValueQuoted;\n        } else if (this.attribType === AttribType.Content) {\n            this.state = State.MetaContentValueUnquotedBeforeEncoding;\n            this.stateMetaContentValueUnquotedBeforeEncoding(c);\n        } else if (this.attribType === AttribType.HttpEquiv) {\n            // We use `quoteCharacter = 0` to signify that the value is unquoted.\n            this.quoteCharacter = 0;\n            this.sectionIndex = 0;\n            this.state = State.MetaAttribHttpEquivValue;\n            this.stateMetaAttribHttpEquivValue(c);\n        } else {\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n    }\n    // The value has to be `content-type`\n    stateMetaAttribHttpEquivValue(c) {\n        if (this.sectionIndex === STRINGS.CONTENT_TYPE.length) {\n            if (this.quoteCharacter === 0 ? END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c) : c === this.quoteCharacter) {\n                if (this.needsPragma !== null) {\n                    this.setResult(this.needsPragma, ResultType.META_TAG);\n                } else if (this.gotPragma === null) {\n                    this.gotPragma = true;\n                }\n                this.state = State.BeforeAttribute;\n                return;\n            }\n        } else if (this.advanceSectionIC(STRINGS.CONTENT_TYPE, c)) {\n            return;\n        }\n        this.gotPragma = false;\n        if (this.quoteCharacter === 0) {\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        } else {\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n    }\n    handleMetaContentValue() {\n        if (this.attributeValue.length === 0) return;\n        const encoding = String.fromCharCode(...this.attributeValue);\n        if (this.gotPragma) {\n            this.setResult(encoding, ResultType.META_TAG);\n        } else if (this.needsPragma === null) {\n            // Don't override a previous result.\n            this.needsPragma = encoding;\n        }\n        this.attributeValue.length = 0;\n    }\n    handleAttributeValue() {\n        if (this.attribType === AttribType.Charset) {\n            this.setResult(String.fromCharCode(...this.attributeValue), ResultType.META_TAG);\n        }\n    }\n    stateAttributeValueUnquoted(c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.handleAttributeValue();\n            this.state = State.BeforeAttribute;\n        } else if (c === Chars.SLASH || c === Chars.GT) {\n            this.handleAttributeValue();\n            this.state = State.BeforeTag;\n        } else if (this.attribType === AttribType.Charset) {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    findMetaContentEncoding(c) {\n        if (this.advanceSectionIC(STRINGS.CHARSET, c)) {\n            if (this.sectionIndex === STRINGS.CHARSET.length) {\n                return true;\n            }\n        } else {\n            // If we encountered another `c`, assume we started over.\n            this.sectionIndex = Number(c === STRINGS.CHARSET[0]);\n        }\n        return false;\n    }\n    stateMetaContentValueUnquotedBeforeEncoding(c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            this.stateAttributeValueUnquoted(c);\n        } else if (this.sectionIndex === STRINGS.CHARSET.length) {\n            if (c === Chars.EQUALS) {\n                this.state = State.MetaContentValueUnquotedBeforeValue;\n            }\n        } else {\n            this.findMetaContentEncoding(c);\n        }\n    }\n    stateMetaContentValueUnquotedBeforeValue(c) {\n        if (isQuote(c)) {\n            this.quoteCharacter = c;\n            this.state = State.MetaContentValueUnquotedValueQuoted;\n        } else if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            // Can't have spaces here, as it would no longer be part of the attribute value.\n            this.stateAttributeValueUnquoted(c);\n        } else {\n            this.state = State.MetaContentValueUnquotedValueUnquoted;\n            this.stateMetaContentValueUnquotedValueUnquoted(c);\n        }\n    }\n    stateMetaContentValueUnquotedValueQuoted(c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            // Quotes weren't matched, so we're done.\n            this.stateAttributeValueUnquoted(c);\n        } else if (c === this.quoteCharacter) {\n            this.handleMetaContentValue();\n            this.state = State.AttributeValueUnquoted;\n        } else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueUnquotedValueUnquoted(c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c) || c === Chars.SEMICOLON) {\n            this.handleMetaContentValue();\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        } else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueQuotedValueUnquoted(c) {\n        if (isQuote(c) || SPACE_CHARACTERS.has(c) || c === Chars.SEMICOLON) {\n            this.handleMetaContentValue();\n            // We are done with the value, but might not be at the end of the attribute\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        } else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueQuotedValueQuoted(c) {\n        if (isQuote(c)) {\n            // We have reached the end of our value.\n            if (c !== this.quoteCharacter) {\n                // Only handle the value if inner quotes were matched.\n                this.handleMetaContentValue();\n            }\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        } else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    stateMetaContentValueQuotedBeforeEncoding(c) {\n        if (c === this.quoteCharacter) {\n            this.stateAttributeValueQuoted(c);\n        } else if (this.findMetaContentEncoding(c)) {\n            this.state = State.MetaContentValueQuotedAfterEncoding;\n        }\n    }\n    stateMetaContentValueQuotedAfterEncoding(c) {\n        if (c === Chars.EQUALS) {\n            this.state = State.MetaContentValueQuotedBeforeValue;\n        } else if (!SPACE_CHARACTERS.has(c)) {\n            // Look for the next encoding\n            this.state = State.MetaContentValueQuotedBeforeEncoding;\n            this.stateMetaContentValueQuotedBeforeEncoding(c);\n        }\n    }\n    stateMetaContentValueQuotedBeforeValue(c) {\n        if (c === this.quoteCharacter) {\n            this.stateAttributeValueQuoted(c);\n        } else if (isQuote(c)) {\n            this.state = State.MetaContentValueQuotedValueQuoted;\n        } else if (!SPACE_CHARACTERS.has(c)) {\n            this.state = State.MetaContentValueQuotedValueUnquoted;\n            this.stateMetaContentValueQuotedValueUnquoted(c);\n        }\n    }\n    stateAttributeValueQuoted(c) {\n        if (c === this.quoteCharacter) {\n            this.handleAttributeValue();\n            this.state = State.BeforeAttribute;\n        } else if (this.attribType === AttribType.Charset) {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    // Read STRINGS.XML_DECLARATION\n    stateXMLDeclaration(c) {\n        if (this.advanceSection(STRINGS.XML_DECLARATION, c)) {\n            if (this.sectionIndex === STRINGS.XML_DECLARATION.length) {\n                this.sectionIndex = 0;\n                this.state = State.XMLDeclarationBeforeEncoding;\n            }\n        } else {\n            this.state = State.WeirdTag;\n        }\n    }\n    stateXMLDeclarationBeforeEncoding(c) {\n        if (this.advanceSection(STRINGS.ENCODING, c)) {\n            if (this.sectionIndex === STRINGS.ENCODING.length) {\n                this.state = State.XMLDeclarationAfterEncoding;\n            }\n        } else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        } else {\n            // If we encountered another `c`, assume we started over.\n            this.sectionIndex = Number(c === STRINGS.ENCODING[0]);\n        }\n    }\n    stateXMLDeclarationAfterEncoding(c) {\n        if (c === Chars.EQUALS) {\n            this.state = State.XMLDeclarationBeforeValue;\n        } else if (c > Chars.SPACE) {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    }\n    stateXMLDeclarationBeforeValue(c) {\n        if (isQuote(c)) {\n            this.attributeValue.length = 0;\n            this.state = State.XMLDeclarationValue;\n        } else if (c > Chars.SPACE) {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    }\n    stateXMLDeclarationValue(c) {\n        if (isQuote(c)) {\n            this.setResult(String.fromCharCode(...this.attributeValue), ResultType.XML_ENCODING);\n            this.state = State.WeirdTag;\n        } else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        } else if (c <= Chars.SPACE) {\n            this.state = State.WeirdTag;\n        } else {\n            this.attributeValue.push(c | (c >= 0x41 && c <= 0x5a ? 0x20 : 0));\n        }\n    }\n    write(buffer) {\n        let index = 0;\n        for(; index < buffer.length && this.offset + index < this.maxBytes; index++){\n            const c = buffer[index];\n            switch(this.state){\n                case State.Begin:\n                    {\n                        this.stateBegin(c);\n                        break;\n                    }\n                case State.BOM16BE:\n                    {\n                        this.stateBOM16BE(c);\n                        break;\n                    }\n                case State.BOM16LE:\n                    {\n                        this.stateBOM16LE(c);\n                        break;\n                    }\n                case State.BOM8:\n                    {\n                        this.stateBOM8(c);\n                        break;\n                    }\n                case State.UTF16LE_XML_PREFIX:\n                    {\n                        this.stateUTF16LE_XML_PREFIX(c);\n                        break;\n                    }\n                case State.BeginLT:\n                    {\n                        this.stateBeginLT(c);\n                        break;\n                    }\n                case State.UTF16BE_XML_PREFIX:\n                    {\n                        this.stateUTF16BE_XML_PREFIX(c);\n                        break;\n                    }\n                case State.BeforeTag:\n                    {\n                        // Optimization: Skip all characters until we find a `<`\n                        const idx = buffer.indexOf(Chars.LT, index);\n                        if (idx === -1) {\n                            // We are done with this buffer. Stay in the state and try on the next one.\n                            index = buffer.length;\n                        } else {\n                            index = idx;\n                            this.stateBeforeTag(Chars.LT);\n                        }\n                        break;\n                    }\n                case State.BeforeTagName:\n                    {\n                        this.stateBeforeTagName(c);\n                        break;\n                    }\n                case State.BeforeCloseTagName:\n                    {\n                        this.stateBeforeCloseTagName(c);\n                        break;\n                    }\n                case State.CommentStart:\n                    {\n                        this.stateCommentStart(c);\n                        break;\n                    }\n                case State.CommentEnd:\n                    {\n                        this.stateCommentEnd(c);\n                        break;\n                    }\n                case State.TagNameMeta:\n                    {\n                        this.stateTagNameMeta(c);\n                        break;\n                    }\n                case State.TagNameOther:\n                    {\n                        this.stateTagNameOther(c);\n                        break;\n                    }\n                case State.XMLDeclaration:\n                    {\n                        this.stateXMLDeclaration(c);\n                        break;\n                    }\n                case State.XMLDeclarationBeforeEncoding:\n                    {\n                        this.stateXMLDeclarationBeforeEncoding(c);\n                        break;\n                    }\n                case State.XMLDeclarationAfterEncoding:\n                    {\n                        this.stateXMLDeclarationAfterEncoding(c);\n                        break;\n                    }\n                case State.XMLDeclarationBeforeValue:\n                    {\n                        this.stateXMLDeclarationBeforeValue(c);\n                        break;\n                    }\n                case State.XMLDeclarationValue:\n                    {\n                        this.stateXMLDeclarationValue(c);\n                        break;\n                    }\n                case State.WeirdTag:\n                    {\n                        this.stateWeirdTag(c);\n                        break;\n                    }\n                case State.BeforeAttribute:\n                    {\n                        this.stateBeforeAttribute(c);\n                        break;\n                    }\n                case State.MetaAttribHttpEquiv:\n                    {\n                        this.stateMetaAttribHttpEquiv(c);\n                        break;\n                    }\n                case State.MetaAttribHttpEquivValue:\n                    {\n                        this.stateMetaAttribHttpEquivValue(c);\n                        break;\n                    }\n                case State.MetaAttribC:\n                    {\n                        this.stateMetaAttribC(c);\n                        break;\n                    }\n                case State.MetaAttribContent:\n                    {\n                        this.stateMetaAttribContent(c);\n                        break;\n                    }\n                case State.MetaAttribCharset:\n                    {\n                        this.stateMetaAttribCharset(c);\n                        break;\n                    }\n                case State.MetaAttribAfterName:\n                    {\n                        this.stateMetaAttribAfterName(c);\n                        break;\n                    }\n                case State.MetaContentValueQuotedBeforeEncoding:\n                    {\n                        this.stateMetaContentValueQuotedBeforeEncoding(c);\n                        break;\n                    }\n                case State.MetaContentValueQuotedAfterEncoding:\n                    {\n                        this.stateMetaContentValueQuotedAfterEncoding(c);\n                        break;\n                    }\n                case State.MetaContentValueQuotedBeforeValue:\n                    {\n                        this.stateMetaContentValueQuotedBeforeValue(c);\n                        break;\n                    }\n                case State.MetaContentValueQuotedValueQuoted:\n                    {\n                        this.stateMetaContentValueQuotedValueQuoted(c);\n                        break;\n                    }\n                case State.MetaContentValueQuotedValueUnquoted:\n                    {\n                        this.stateMetaContentValueQuotedValueUnquoted(c);\n                        break;\n                    }\n                case State.MetaContentValueUnquotedBeforeEncoding:\n                    {\n                        this.stateMetaContentValueUnquotedBeforeEncoding(c);\n                        break;\n                    }\n                case State.MetaContentValueUnquotedBeforeValue:\n                    {\n                        this.stateMetaContentValueUnquotedBeforeValue(c);\n                        break;\n                    }\n                case State.MetaContentValueUnquotedValueQuoted:\n                    {\n                        this.stateMetaContentValueUnquotedValueQuoted(c);\n                        break;\n                    }\n                case State.MetaContentValueUnquotedValueUnquoted:\n                    {\n                        this.stateMetaContentValueUnquotedValueUnquoted(c);\n                        break;\n                    }\n                case State.AnyAttribName:\n                    {\n                        this.stateAnyAttribName(c);\n                        break;\n                    }\n                case State.AfterAttributeName:\n                    {\n                        this.stateAfterAttributeName(c);\n                        break;\n                    }\n                case State.BeforeAttributeValue:\n                    {\n                        this.stateBeforeAttributeValue(c);\n                        break;\n                    }\n                case State.AttributeValueQuoted:\n                    {\n                        this.stateAttributeValueQuoted(c);\n                        break;\n                    }\n                case State.AttributeValueUnquoted:\n                    {\n                        this.stateAttributeValueUnquoted(c);\n                        break;\n                    }\n            }\n        }\n        this.offset += index;\n    }\n}\n/** Get the encoding for the passed buffer. */ function getEncoding(buffer, options) {\n    const sniffer = new Sniffer(options);\n    sniffer.write(buffer);\n    return sniffer.encoding;\n} //# sourceMappingURL=sniffer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZW5jb2Rpbmctc25pZmZlci9kaXN0L2VzbS9zbmlmZmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBQzlDLHFHQUFxRztBQUNyRyxJQUFJQztBQUNILFVBQVVBLEtBQUs7SUFDWixrRkFBa0Y7SUFDbEZBLEtBQUssQ0FBQ0EsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUc7SUFDNUIsa0JBQWtCO0lBQ2xCQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBRSxHQUFHO0lBQzlCQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBRSxHQUFHO0lBQzlCQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxHQUFHO0lBQzNCLGFBQWE7SUFDYkEsS0FBSyxDQUFDQSxLQUFLLENBQUMscUJBQXFCLEdBQUcsRUFBRSxHQUFHO0lBQ3pDQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBRSxHQUFHO0lBQzlCQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxxQkFBcUIsR0FBRyxFQUFFLEdBQUc7SUFDekMsMEJBQTBCO0lBQzFCQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHO0lBQ2hDLHdCQUF3QjtJQUN4QkEsS0FBSyxDQUFDQSxLQUFLLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxHQUFHO0lBQ3BDLGFBQWE7SUFDYkEsS0FBSyxDQUFDQSxLQUFLLENBQUMscUJBQXFCLEdBQUcsRUFBRSxHQUFHO0lBQ3pDLHlCQUF5QjtJQUN6QkEsS0FBSyxDQUFDQSxLQUFLLENBQUMsZUFBZSxHQUFHLEdBQUcsR0FBRztJQUNwQyxtQkFBbUI7SUFDbkJBLEtBQUssQ0FBQ0EsS0FBSyxDQUFDLGFBQWEsR0FBRyxHQUFHLEdBQUc7SUFDbEMsa0NBQWtDO0lBQ2xDQSxLQUFLLENBQUNBLEtBQUssQ0FBQyxjQUFjLEdBQUcsR0FBRyxHQUFHO0lBQ25DLGdDQUFn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azovL3R5dXN0LWNvdXJzZS1zZWxlY3Rvci8uL25vZGVfbW9kdWxlcy9lbmNvZGluZy1zbmlmZmVyL2Rpc3QvZXNtL3NuaWZmZXIuanM/NTM0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsYWJlbFRvTmFtZSB9IGZyb20gXCJ3aGF0d2ctZW5jb2RpbmdcIjtcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3ByZXNjYW4tYS1ieXRlLXN0cmVhbS10by1kZXRlcm1pbmUtaXRzLWVuY29kaW5nXG52YXIgU3RhdGU7XG4oZnVuY3Rpb24gKFN0YXRlKSB7XG4gICAgLy8gQmVmb3JlIGFueXRoaW5nIHN0YXJ0czsgY2FuIGJlIGFueSBvZiBCT00sIFVURi0xNiBYTUwgZGVjbGFyYXRpb25zIG9yIG1ldGEgdGFnc1xuICAgIFN0YXRlW1N0YXRlW1wiQmVnaW5cIl0gPSAwXSA9IFwiQmVnaW5cIjtcbiAgICAvLyBJbnNpZGUgb2YgYSBCT01cbiAgICBTdGF0ZVtTdGF0ZVtcIkJPTTE2QkVcIl0gPSAxXSA9IFwiQk9NMTZCRVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiQk9NMTZMRVwiXSA9IDJdID0gXCJCT00xNkxFXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJCT004XCJdID0gM10gPSBcIkJPTThcIjtcbiAgICAvLyBYTUwgcHJlZml4XG4gICAgU3RhdGVbU3RhdGVbXCJVVEYxNkxFX1hNTF9QUkVGSVhcIl0gPSA0XSA9IFwiVVRGMTZMRV9YTUxfUFJFRklYXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJCZWdpbkxUXCJdID0gNV0gPSBcIkJlZ2luTFRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIlVURjE2QkVfWE1MX1BSRUZJWFwiXSA9IDZdID0gXCJVVEYxNkJFX1hNTF9QUkVGSVhcIjtcbiAgICAvLyBXYWl0aW5nIGZvciBvcGVuaW5nIGA8YFxuICAgIFN0YXRlW1N0YXRlW1wiQmVmb3JlVGFnXCJdID0gN10gPSBcIkJlZm9yZVRhZ1wiO1xuICAgIC8vIEFmdGVyIHRoZSBvcGVuaW5nIGA8YFxuICAgIFN0YXRlW1N0YXRlW1wiQmVmb3JlVGFnTmFtZVwiXSA9IDhdID0gXCJCZWZvcmVUYWdOYW1lXCI7XG4gICAgLy8gQWZ0ZXIgYDwvYFxuICAgIFN0YXRlW1N0YXRlW1wiQmVmb3JlQ2xvc2VUYWdOYW1lXCJdID0gOV0gPSBcIkJlZm9yZUNsb3NlVGFnTmFtZVwiO1xuICAgIC8vIEJlZ2lubmluZyBvZiBhIGNvbW1lbnRcbiAgICBTdGF0ZVtTdGF0ZVtcIkNvbW1lbnRTdGFydFwiXSA9IDEwXSA9IFwiQ29tbWVudFN0YXJ0XCI7XG4gICAgLy8gRW5kIG9mIGEgY29tbWVudFxuICAgIFN0YXRlW1N0YXRlW1wiQ29tbWVudEVuZFwiXSA9IDExXSA9IFwiQ29tbWVudEVuZFwiO1xuICAgIC8vIEEgdGFnIG5hbWUgdGhhdCBjb3VsZCBiZSBgbWV0YWBcbiAgICBTdGF0ZVtTdGF0ZVtcIlRhZ05hbWVNZXRhXCJdID0gMTJdID0gXCJUYWdOYW1lTWV0YVwiO1xuICAgIC8vIEEgdGFnIG5hbWUgdGhhdCBpcyBub3QgYG1ldGFgXG4gICAgU3RhdGVbU3RhdGVbXCJUYWdOYW1lT3RoZXJcIl0gPSAxM10gPSBcIlRhZ05hbWVPdGhlclwiO1xuICAgIC8vIFhNTCBkZWNsYXJhdGlvblxuICAgIFN0YXRlW1N0YXRlW1wiWE1MRGVjbGFyYXRpb25cIl0gPSAxNF0gPSBcIlhNTERlY2xhcmF0aW9uXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJYTUxEZWNsYXJhdGlvbkJlZm9yZUVuY29kaW5nXCJdID0gMTVdID0gXCJYTUxEZWNsYXJhdGlvbkJlZm9yZUVuY29kaW5nXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJYTUxEZWNsYXJhdGlvbkFmdGVyRW5jb2RpbmdcIl0gPSAxNl0gPSBcIlhNTERlY2xhcmF0aW9uQWZ0ZXJFbmNvZGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZVwiXSA9IDE3XSA9IFwiWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiWE1MRGVjbGFyYXRpb25WYWx1ZVwiXSA9IDE4XSA9IFwiWE1MRGVjbGFyYXRpb25WYWx1ZVwiO1xuICAgIC8vIEFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIHRhZywgYnV0IGRvZXNuJ3QgZml0IGluIHRoZSBhYm92ZSBjYXRlZ29yaWVzXG4gICAgU3RhdGVbU3RhdGVbXCJXZWlyZFRhZ1wiXSA9IDE5XSA9IFwiV2VpcmRUYWdcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIkJlZm9yZUF0dHJpYnV0ZVwiXSA9IDIwXSA9IFwiQmVmb3JlQXR0cmlidXRlXCI7XG4gICAgLypcbiAgICAgKiBBdHRyaWJ1dGVzIGluIG1ldGEgdGFnIOKAlCB3ZSBjb21wYXJlIHRoZW0gdG8gb3VyIHNldCBoZXJlLCBhbmQgYmFjayBvdXRcbiAgICAgKiBXZSBjYXJlIGFib3V0IGZvdXIgYXR0cmlidXRlczogaHR0cC1lcXVpdiwgY29udGVudC10eXBlLCBjb250ZW50LCBjaGFyc2V0XG4gICAgICovXG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQXR0cmliSHR0cEVxdWl2XCJdID0gMjFdID0gXCJNZXRhQXR0cmliSHR0cEVxdWl2XCI7XG4gICAgLy8gVGhlIHZhbHVlIGhhcyB0byBiZSBgY29udGVudC10eXBlYFxuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUF0dHJpYkh0dHBFcXVpdlZhbHVlXCJdID0gMjJdID0gXCJNZXRhQXR0cmliSHR0cEVxdWl2VmFsdWVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFBdHRyaWJDXCJdID0gMjNdID0gXCJNZXRhQXR0cmliQ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUF0dHJpYkNvbnRlbnRcIl0gPSAyNF0gPSBcIk1ldGFBdHRyaWJDb250ZW50XCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQXR0cmliQ2hhcnNldFwiXSA9IDI1XSA9IFwiTWV0YUF0dHJpYkNoYXJzZXRcIjtcbiAgICAvLyBXYWl0aW5nIGZvciB3aGl0ZXNwYWNlXG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQXR0cmliQWZ0ZXJOYW1lXCJdID0gMjZdID0gXCJNZXRhQXR0cmliQWZ0ZXJOYW1lXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlRW5jb2RpbmdcIl0gPSAyN10gPSBcIk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZ1wiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEFmdGVyRW5jb2RpbmdcIl0gPSAyOF0gPSBcIk1ldGFDb250ZW50VmFsdWVRdW90ZWRBZnRlckVuY29kaW5nXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlVmFsdWVcIl0gPSAyOV0gPSBcIk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVWYWx1ZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlUXVvdGVkXCJdID0gMzBdID0gXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVRdW90ZWRcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVVucXVvdGVkXCJdID0gMzFdID0gXCJNZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVVbnF1b3RlZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlRW5jb2RpbmdcIl0gPSAzMl0gPSBcIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZUVuY29kaW5nXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVWYWx1ZVwiXSA9IDMzXSA9IFwiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlVmFsdWVcIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlUXVvdGVkXCJdID0gMzRdID0gXCJNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVF1b3RlZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVVbnF1b3RlZFwiXSA9IDM1XSA9IFwiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVVbnF1b3RlZFwiO1xuICAgIFN0YXRlW1N0YXRlW1wiQW55QXR0cmliTmFtZVwiXSA9IDM2XSA9IFwiQW55QXR0cmliTmFtZVwiO1xuICAgIC8vIEFmdGVyIHRoZSBuYW1lIG9mIGFuIGF0dHJpYnV0ZSwgYmVmb3JlIHRoZSBlcXVhbHMgc2lnblxuICAgIFN0YXRlW1N0YXRlW1wiQWZ0ZXJBdHRyaWJ1dGVOYW1lXCJdID0gMzddID0gXCJBZnRlckF0dHJpYnV0ZU5hbWVcIjtcbiAgICAvLyBBZnRlciBgPWBcbiAgICBTdGF0ZVtTdGF0ZVtcIkJlZm9yZUF0dHJpYnV0ZVZhbHVlXCJdID0gMzhdID0gXCJCZWZvcmVBdHRyaWJ1dGVWYWx1ZVwiO1xuICAgIFN0YXRlW1N0YXRlW1wiQXR0cmlidXRlVmFsdWVRdW90ZWRcIl0gPSAzOV0gPSBcIkF0dHJpYnV0ZVZhbHVlUXVvdGVkXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkXCJdID0gNDBdID0gXCJBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkXCI7XG59KShTdGF0ZSB8fCAoU3RhdGUgPSB7fSkpO1xuZXhwb3J0IHZhciBSZXN1bHRUeXBlO1xuKGZ1bmN0aW9uIChSZXN1bHRUeXBlKSB7XG4gICAgLy8gQnl0ZSBvcmRlciBtYXJrXG4gICAgUmVzdWx0VHlwZVtSZXN1bHRUeXBlW1wiQk9NXCJdID0gMF0gPSBcIkJPTVwiO1xuICAgIC8vIFVzZXItIG9yIHRyYW5zcG9ydCBsYXllci1kZWZpbmVkXG4gICAgUmVzdWx0VHlwZVtSZXN1bHRUeXBlW1wiUEFTU0VEXCJdID0gMV0gPSBcIlBBU1NFRFwiO1xuICAgIC8vIFhNTCBwcmVmaXhlc1xuICAgIFJlc3VsdFR5cGVbUmVzdWx0VHlwZVtcIlhNTF9QUkVGSVhcIl0gPSAyXSA9IFwiWE1MX1BSRUZJWFwiO1xuICAgIC8vIE1ldGEgdGFnXG4gICAgUmVzdWx0VHlwZVtSZXN1bHRUeXBlW1wiTUVUQV9UQUdcIl0gPSAzXSA9IFwiTUVUQV9UQUdcIjtcbiAgICAvLyBYTUwgZW5jb2RpbmdcbiAgICBSZXN1bHRUeXBlW1Jlc3VsdFR5cGVbXCJYTUxfRU5DT0RJTkdcIl0gPSA0XSA9IFwiWE1MX0VOQ09ESU5HXCI7XG4gICAgLy8gRGVmYXVsdFxuICAgIFJlc3VsdFR5cGVbUmVzdWx0VHlwZVtcIkRFRkFVTFRcIl0gPSA1XSA9IFwiREVGQVVMVFwiO1xufSkoUmVzdWx0VHlwZSB8fCAoUmVzdWx0VHlwZSA9IHt9KSk7XG52YXIgQXR0cmliVHlwZTtcbihmdW5jdGlvbiAoQXR0cmliVHlwZSkge1xuICAgIEF0dHJpYlR5cGVbQXR0cmliVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIEF0dHJpYlR5cGVbQXR0cmliVHlwZVtcIkh0dHBFcXVpdlwiXSA9IDFdID0gXCJIdHRwRXF1aXZcIjtcbiAgICBBdHRyaWJUeXBlW0F0dHJpYlR5cGVbXCJDb250ZW50XCJdID0gMl0gPSBcIkNvbnRlbnRcIjtcbiAgICBBdHRyaWJUeXBlW0F0dHJpYlR5cGVbXCJDaGFyc2V0XCJdID0gM10gPSBcIkNoYXJzZXRcIjtcbn0pKEF0dHJpYlR5cGUgfHwgKEF0dHJpYlR5cGUgPSB7fSkpO1xudmFyIENoYXJzO1xuKGZ1bmN0aW9uIChDaGFycykge1xuICAgIENoYXJzW0NoYXJzW1wiTklMXCJdID0gMF0gPSBcIk5JTFwiO1xuICAgIENoYXJzW0NoYXJzW1wiVEFCXCJdID0gOV0gPSBcIlRBQlwiO1xuICAgIENoYXJzW0NoYXJzW1wiTEZcIl0gPSAxMF0gPSBcIkxGXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJDUlwiXSA9IDEzXSA9IFwiQ1JcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlNQQUNFXCJdID0gMzJdID0gXCJTUEFDRVwiO1xuICAgIENoYXJzW0NoYXJzW1wiRVhDTEFNQVRJT05cIl0gPSAzM10gPSBcIkVYQ0xBTUFUSU9OXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJEUVVPVEVcIl0gPSAzNF0gPSBcIkRRVU9URVwiO1xuICAgIENoYXJzW0NoYXJzW1wiU1FVT1RFXCJdID0gMzldID0gXCJTUVVPVEVcIjtcbiAgICBDaGFyc1tDaGFyc1tcIkRBU0hcIl0gPSA0NV0gPSBcIkRBU0hcIjtcbiAgICBDaGFyc1tDaGFyc1tcIlNMQVNIXCJdID0gNDddID0gXCJTTEFTSFwiO1xuICAgIENoYXJzW0NoYXJzW1wiU0VNSUNPTE9OXCJdID0gNTldID0gXCJTRU1JQ09MT05cIjtcbiAgICBDaGFyc1tDaGFyc1tcIkxUXCJdID0gNjBdID0gXCJMVFwiO1xuICAgIENoYXJzW0NoYXJzW1wiRVFVQUxTXCJdID0gNjFdID0gXCJFUVVBTFNcIjtcbiAgICBDaGFyc1tDaGFyc1tcIkdUXCJdID0gNjJdID0gXCJHVFwiO1xuICAgIENoYXJzW0NoYXJzW1wiUVVFU1RJT05cIl0gPSA2M10gPSBcIlFVRVNUSU9OXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJVcHBlckFcIl0gPSA2NV0gPSBcIlVwcGVyQVwiO1xuICAgIENoYXJzW0NoYXJzW1wiVXBwZXJaXCJdID0gOTBdID0gXCJVcHBlclpcIjtcbiAgICBDaGFyc1tDaGFyc1tcIkxvd2VyQVwiXSA9IDk3XSA9IFwiTG93ZXJBXCI7XG4gICAgQ2hhcnNbQ2hhcnNbXCJMb3dlclpcIl0gPSAxMjJdID0gXCJMb3dlclpcIjtcbn0pKENoYXJzIHx8IChDaGFycyA9IHt9KSk7XG5jb25zdCBTUEFDRV9DSEFSQUNURVJTID0gbmV3IFNldChbQ2hhcnMuU1BBQ0UsIENoYXJzLkxGLCBDaGFycy5DUiwgQ2hhcnMuVEFCXSk7XG5jb25zdCBFTkRfT0ZfVU5RVU9URURfQVRUUklCVVRFX1ZBTFVFID0gbmV3IFNldChbXG4gICAgQ2hhcnMuU1BBQ0UsXG4gICAgQ2hhcnMuTEYsXG4gICAgQ2hhcnMuQ1IsXG4gICAgQ2hhcnMuVEFCLFxuICAgIENoYXJzLkdULFxuXSk7XG5mdW5jdGlvbiB0b1VpbnQ4QXJyYXkoc3RyKSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoc3RyLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5leHBvcnQgY29uc3QgU1RSSU5HUyA9IHtcbiAgICBVVEY4X0JPTTogbmV3IFVpbnQ4QXJyYXkoWzB4ZWYsIDB4YmIsIDB4YmZdKSxcbiAgICBVVEYxNkxFX0JPTTogbmV3IFVpbnQ4QXJyYXkoWzB4ZmYsIDB4ZmVdKSxcbiAgICBVVEYxNkJFX0JPTTogbmV3IFVpbnQ4QXJyYXkoWzB4ZmUsIDB4ZmZdKSxcbiAgICBVVEYxNkxFX1hNTF9QUkVGSVg6IG5ldyBVaW50OEFycmF5KFsweDNjLCAweDAsIDB4M2YsIDB4MCwgMHg3OCwgMHgwXSksXG4gICAgVVRGMTZCRV9YTUxfUFJFRklYOiBuZXcgVWludDhBcnJheShbMHgwLCAweDNjLCAweDAsIDB4M2YsIDB4MCwgMHg3OF0pLFxuICAgIFhNTF9ERUNMQVJBVElPTjogdG9VaW50OEFycmF5KFwiPD94bWxcIiksXG4gICAgRU5DT0RJTkc6IHRvVWludDhBcnJheShcImVuY29kaW5nXCIpLFxuICAgIE1FVEE6IHRvVWludDhBcnJheShcIm1ldGFcIiksXG4gICAgSFRUUF9FUVVJVjogdG9VaW50OEFycmF5KFwiaHR0cC1lcXVpdlwiKSxcbiAgICBDT05URU5UOiB0b1VpbnQ4QXJyYXkoXCJjb250ZW50XCIpLFxuICAgIENPTlRFTlRfVFlQRTogdG9VaW50OEFycmF5KFwiY29udGVudC10eXBlXCIpLFxuICAgIENIQVJTRVQ6IHRvVWludDhBcnJheShcImNoYXJzZXRcIiksXG4gICAgQ09NTUVOVF9TVEFSVDogdG9VaW50OEFycmF5KFwiPCEtLVwiKSxcbiAgICBDT01NRU5UX0VORDogdG9VaW50OEFycmF5KFwiLS0+XCIpLFxufTtcbmZ1bmN0aW9uIGlzQXNjaWlBbHBoYShjKSB7XG4gICAgcmV0dXJuICgoYyA+PSBDaGFycy5VcHBlckEgJiYgYyA8PSBDaGFycy5VcHBlclopIHx8XG4gICAgICAgIChjID49IENoYXJzLkxvd2VyQSAmJiBjIDw9IENoYXJzLkxvd2VyWikpO1xufVxuZnVuY3Rpb24gaXNRdW90ZShjKSB7XG4gICAgcmV0dXJuIGMgPT09IENoYXJzLkRRVU9URSB8fCBjID09PSBDaGFycy5TUVVPVEU7XG59XG5leHBvcnQgY2xhc3MgU25pZmZlciB7XG4gICAgc2V0UmVzdWx0KGxhYmVsLCB0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdFR5cGUgPT09IFJlc3VsdFR5cGUuREVGQVVMVCB8fCB0aGlzLnJlc3VsdFR5cGUgPiB0eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGluZyA9IGxhYmVsVG9OYW1lKGxhYmVsKTtcbiAgICAgICAgICAgIGlmIChlbmNvZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5jb2RpbmcgPVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgaW4gYSBtZXRhIHRhZyBhbmQgdGhlIGVuY29kaW5nIGlzIGB4LXVzZXItZGVmaW5lZGBcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gUmVzdWx0VHlwZS5NRVRBX1RBRyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmcgPT09IFwieC11c2VyLWRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIndpbmRvd3MtMTI1MlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IC8vIENoZWNrIGlmIHdlIGFyZSBpbiBhIG1ldGEgdGFnIG9yIHhtbCBkZWNsYXJhdGlvbiwgYW5kIHRoZSBlbmNvZGluZyBpcyBVVEYtMTZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZSA9PT0gUmVzdWx0VHlwZS5NRVRBX1RBRyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID09PSBSZXN1bHRUeXBlLlhNTF9FTkNPRElORykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVuY29kaW5nID09PSBcIlVURi0xNkxFXCIgfHwgZW5jb2RpbmcgPT09IFwiVVRGLTE2QkVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlVURi04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBlbmNvZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdFR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHsgbWF4Qnl0ZXMgPSAxMDI0LCB1c2VyRW5jb2RpbmcsIHRyYW5zcG9ydExheWVyRW5jb2RpbmdMYWJlbCwgZGVmYXVsdEVuY29kaW5nLCB9ID0ge30pIHtcbiAgICAgICAgLyoqIFRoZSBvZmZzZXQgb2YgdGhlIHByZXZpb3VzIGJ1ZmZlcnMuICovXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZ2luO1xuICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliVHlwZSA9IEF0dHJpYlR5cGUuTm9uZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgYGh0dHAtZXF1aXZgIGlzIGBjb250ZW50LXR5cGVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbml0aWFsbHkgYG51bGxgLCBhIGJvb2xlYW4gd2hlbiBhIHZhbHVlIGlzIGZvdW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nb3RQcmFnbWEgPSBudWxsO1xuICAgICAgICB0aGlzLm5lZWRzUHJhZ21hID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbk1ldGFUYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IFwid2luZG93cy0xMjUyXCI7XG4gICAgICAgIHRoaXMucmVzdWx0VHlwZSA9IFJlc3VsdFR5cGUuREVGQVVMVDtcbiAgICAgICAgdGhpcy5xdW90ZUNoYXJhY3RlciA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhCeXRlcyA9IG1heEJ5dGVzO1xuICAgICAgICBpZiAodXNlckVuY29kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlc3VsdCh1c2VyRW5jb2RpbmcsIFJlc3VsdFR5cGUuUEFTU0VEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNwb3J0TGF5ZXJFbmNvZGluZ0xhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlc3VsdCh0cmFuc3BvcnRMYXllckVuY29kaW5nTGFiZWwsIFJlc3VsdFR5cGUuUEFTU0VEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdEVuY29kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlc3VsdChkZWZhdWx0RW5jb2RpbmcsIFJlc3VsdFR5cGUuREVGQVVMVCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCZWdpbihjKSB7XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSBTVFJJTkdTLlVURjE2QkVfQk9NWzBdOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJPTTE2QkU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFNUUklOR1MuVVRGMTZMRV9CT01bMF06IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQk9NMTZMRTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU1RSSU5HUy5VVEY4X0JPTVswXToge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQk9NODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQ2hhcnMuTklMOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlVURjE2QkVfWE1MX1BSRUZJWDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIENoYXJzLkxUOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZ2luTFQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUJlZ2luTFQoYykge1xuICAgICAgICBpZiAoYyA9PT0gQ2hhcnMuTklMKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuVVRGMTZMRV9YTUxfUFJFRklYO1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IENoYXJzLlFVRVNUSU9OKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuWE1MRGVjbGFyYXRpb247XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnTmFtZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWdOYW1lKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlVVRGMTZCRV9YTUxfUFJFRklYKGMpIHtcbiAgICAgICAgLy8gQWR2YW5jZSBwb3NpdGlvbiBpbiB0aGUgc2VjdGlvblxuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbihTVFJJTkdTLlVURjE2QkVfWE1MX1BSRUZJWCwgYykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5VVEYxNkJFX1hNTF9QUkVGSVgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0aGUgd2hvbGUgcHJlZml4XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoXCJ1dGYtMTZiZVwiLCBSZXN1bHRUeXBlLlhNTF9QUkVGSVgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVUYWcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVVVEYxNkxFX1hNTF9QUkVGSVgoYykge1xuICAgICAgICAvLyBBZHZhbmNlIHBvc2l0aW9uIGluIHRoZSBzZWN0aW9uXG4gICAgICAgIGlmICh0aGlzLmFkdmFuY2VTZWN0aW9uKFNUUklOR1MuVVRGMTZMRV9YTUxfUFJFRklYLCBjKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4ID09PSBTVFJJTkdTLlVURjE2TEVfWE1MX1BSRUZJWC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRoZSB3aG9sZSBwcmVmaXhcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJlc3VsdChcInV0Zi0xNmxlXCIsIFJlc3VsdFR5cGUuWE1MX1BSRUZJWCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZVRhZyhjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUJPTTE2TEUoYykge1xuICAgICAgICBpZiAoYyA9PT0gU1RSSU5HUy5VVEYxNkxFX0JPTVsxXSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoXCJ1dGYtMTZsZVwiLCBSZXN1bHRUeXBlLkJPTSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZVRhZyhjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUJPTTE2QkUoYykge1xuICAgICAgICBpZiAoYyA9PT0gU1RSSU5HUy5VVEYxNkJFX0JPTVsxXSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoXCJ1dGYtMTZiZVwiLCBSZXN1bHRUeXBlLkJPTSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZVRhZyhjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUJPTTgoYykge1xuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbihTVFJJTkdTLlVURjhfQk9NLCBjKSAmJlxuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuVVRGOF9CT00ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlc3VsdChcInV0Zi04XCIsIFJlc3VsdFR5cGUuQk9NKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUJlZm9yZVRhZyhjKSB7XG4gICAgICAgIGlmIChjID09PSBDaGFycy5MVCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZ05hbWU7XG4gICAgICAgICAgICB0aGlzLmluTWV0YVRhZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdlIGhhdmUgc2VlbiBhIGA8YCwgYW5kIG5vdyBoYXZlIHRvIGZpZ3VyZSBvdXQgd2hhdCB0byBkby5cbiAgICAgKlxuICAgICAqIE9wdGlvbnM6XG4gICAgICogIC0gYDxtZXRhYFxuICAgICAqICAtIEFueSBvdGhlciB0YWdcbiAgICAgKiAgLSBBIGNsb3NpbmcgdGFnXG4gICAgICogIC0gYDwhLS1gXG4gICAgICogIC0gQW4gWE1MIGRlY2xhcmF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0ZUJlZm9yZVRhZ05hbWUoYykge1xuICAgICAgICBpZiAoaXNBc2NpaUFscGhhKGMpKSB7XG4gICAgICAgICAgICBpZiAoKGMgfCAweDIwKSA9PT0gU1RSSU5HUy5NRVRBWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5UYWdOYW1lTWV0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5UYWdOYW1lT3RoZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDaGFycy5TTEFTSDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlQ2xvc2VUYWdOYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBDaGFycy5FWENMQU1BVElPTjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQ29tbWVudFN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIENoYXJzLlFVRVNUSU9OOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XZWlyZFRhZztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZVRhZyhjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQmVmb3JlQ2xvc2VUYWdOYW1lKGMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGlzQXNjaWlBbHBoYShjKVxuICAgICAgICAgICAgPyAvLyBTd2l0Y2ggdG8gYFRhZ05hbWVPdGhlcmA7IHRoZSBIVE1MIHNwZWMgYWxsb3dzIGF0dHJpYnV0ZXMgaGVyZSBhcyB3ZWxsLlxuICAgICAgICAgICAgICAgIFN0YXRlLlRhZ05hbWVPdGhlclxuICAgICAgICAgICAgOiBTdGF0ZS5XZWlyZFRhZztcbiAgICB9XG4gICAgc3RhdGVDb21tZW50U3RhcnQoYykge1xuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbihTVFJJTkdTLkNPTU1FTlRfU1RBUlQsIGMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuQ09NTUVOVF9TVEFSVC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQ29tbWVudEVuZDtcbiAgICAgICAgICAgICAgICAvLyBUaGUgLS0gb2YgdGhlIGNvbW1lbnQgc3RhcnQgY2FuIGJlIHBhcnQgb2YgdGhlIGVuZC5cbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV2VpcmRUYWc7XG4gICAgICAgICAgICB0aGlzLnN0YXRlV2VpcmRUYWcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVDb21tZW50RW5kKGMpIHtcbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb24oU1RSSU5HUy5DT01NRU5UX0VORCwgYykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5DT01NRU5UX0VORC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IENoYXJzLkRBU0gpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBJZiB3ZSBhcmUgaGVyZSwgd2Uga25vdyB3ZSBleHBlY3RlZCBhIGA+YCBhYm92ZS5cbiAgICAgICAgICAgICAqIFNldCB0aGlzIHRvIDIsIHRvIHN1cHBvcnQgbWFueSBkYXNoZXMgYmVmb3JlIHRoZSBjbG9zaW5nIGA+YC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFueSBzZWN0aW9uIHN0YXJ0aW5nIHdpdGggYDwhYCwgYDw/YCwgYDwvYCwgd2l0aG91dCBiZWluZyBhIGNsb3NpbmcgdGFnIG9yIGNvbW1lbnQuXG4gICAgICovXG4gICAgc3RhdGVXZWlyZFRhZyhjKSB7XG4gICAgICAgIGlmIChjID09PSBDaGFycy5HVCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZHZhbmNlcyB0aGUgc2VjdGlvbiwgaWdub3JpbmcgdXBwZXIvbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB0aGUgc2VjdGlvbiBoYXMgbGVmdC1vdmVyIGNoYXJhY3RlcnMgYmVmb3JlIGNhbGxpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBgZmFsc2VgIGlmIHdlIGRpZCBub3QgbWF0Y2ggdGhlIHNlY3Rpb24uXG4gICAgICovXG4gICAgYWR2YW5jZVNlY3Rpb25JQyhzZWN0aW9uLCBjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkdmFuY2VTZWN0aW9uKHNlY3Rpb24sIGMgfCAweDIwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWR2YW5jZXMgdGhlIHNlY3Rpb24uXG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgdGhlIHNlY3Rpb24gaGFzIGxlZnQtb3ZlciBjaGFyYWN0ZXJzIGJlZm9yZSBjYWxsaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYGZhbHNlYCBpZiB3ZSBkaWQgbm90IG1hdGNoIHRoZSBzZWN0aW9uLlxuICAgICAqL1xuICAgIGFkdmFuY2VTZWN0aW9uKHNlY3Rpb24sIGMpIHtcbiAgICAgICAgaWYgKHNlY3Rpb25bdGhpcy5zZWN0aW9uSW5kZXhdID09PSBjKSB7XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCsrO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRlVGFnTmFtZU1ldGEoYykge1xuICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPCBTVFJJTkdTLk1FVEEubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbklDKFNUUklOR1MuTUVUQSwgYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpIHtcbiAgICAgICAgICAgIHRoaXMuaW5NZXRhVGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ290UHJhZ21hID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubmVlZHNQcmFnbWEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZUF0dHJpYnV0ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuVGFnTmFtZU90aGVyO1xuICAgICAgICAvLyBSZWNvbnN1bWUgaW4gY2FzZSB0aGVyZSBpcyBhIGA+YC5cbiAgICAgICAgdGhpcy5zdGF0ZVRhZ05hbWVPdGhlcihjKTtcbiAgICB9XG4gICAgc3RhdGVUYWdOYW1lT3RoZXIoYykge1xuICAgICAgICBpZiAoU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gQ2hhcnMuR1QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCZWZvcmVBdHRyaWJ1dGUoYykge1xuICAgICAgICBpZiAoU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmluTWV0YVRhZykge1xuICAgICAgICAgICAgY29uc3QgbG93ZXIgPSBjIHwgMHgyMDtcbiAgICAgICAgICAgIGlmIChsb3dlciA9PT0gU1RSSU5HUy5IVFRQX0VRVUlWWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQXR0cmliSHR0cEVxdWl2O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvd2VyID09PSBTVFJJTkdTLkNIQVJTRVRbMF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFBdHRyaWJDO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID1cbiAgICAgICAgICAgIGMgPT09IENoYXJzLlNMQVNIIHx8IGMgPT09IENoYXJzLkdUXG4gICAgICAgICAgICAgICAgPyBTdGF0ZS5CZWZvcmVUYWdcbiAgICAgICAgICAgICAgICA6IFN0YXRlLkFueUF0dHJpYk5hbWU7XG4gICAgfVxuICAgIGhhbmRsZU1ldGFBdHRyaWIoYywgc2VjdGlvbiwgdHlwZSkge1xuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbklDKHNlY3Rpb24sIGMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IHNlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUF0dHJpYkFmdGVyTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5BbnlBdHRyaWJOYW1lO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUFueUF0dHJpYk5hbWUoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQXR0cmliSHR0cEVxdWl2KGMpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXRhQXR0cmliKGMsIFNUUklOR1MuSFRUUF9FUVVJViwgQXR0cmliVHlwZS5IdHRwRXF1aXYpO1xuICAgIH1cbiAgICBzdGF0ZU1ldGFBdHRyaWJDKGMpIHtcbiAgICAgICAgY29uc3QgbG93ZXIgPSBjIHwgMHgyMDtcbiAgICAgICAgaWYgKGxvd2VyID09PSBTVFJJTkdTLkNIQVJTRVRbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMjtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQXR0cmliQ2hhcnNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsb3dlciA9PT0gU1RSSU5HUy5DT05URU5UWzFdKSB7XG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDI7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUF0dHJpYkNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQW55QXR0cmliTmFtZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBbnlBdHRyaWJOYW1lKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlTWV0YUF0dHJpYkNoYXJzZXQoYykge1xuICAgICAgICB0aGlzLmhhbmRsZU1ldGFBdHRyaWIoYywgU1RSSU5HUy5DSEFSU0VULCBBdHRyaWJUeXBlLkNoYXJzZXQpO1xuICAgIH1cbiAgICBzdGF0ZU1ldGFBdHRyaWJDb250ZW50KGMpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXRhQXR0cmliKGMsIFNUUklOR1MuQ09OVEVOVCwgQXR0cmliVHlwZS5Db250ZW50KTtcbiAgICB9XG4gICAgc3RhdGVNZXRhQXR0cmliQWZ0ZXJOYW1lKGMpIHtcbiAgICAgICAgaWYgKFNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpIHx8IGMgPT09IENoYXJzLkVRVUFMUykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkFmdGVyQXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBZnRlckF0dHJpYnV0ZU5hbWUoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQW55QXR0cmliTmFtZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBbnlBdHRyaWJOYW1lKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlQW55QXR0cmliTmFtZShjKSB7XG4gICAgICAgIGlmIChTUEFDRV9DSEFSQUNURVJTLmhhcyhjKSkge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJUeXBlID0gQXR0cmliVHlwZS5Ob25lO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkFmdGVyQXR0cmlidXRlTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSBDaGFycy5TTEFTSCB8fCBjID09PSBDaGFycy5HVCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZVRhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSBDaGFycy5FUVVBTFMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUFmdGVyQXR0cmlidXRlTmFtZShjKSB7XG4gICAgICAgIGlmIChTUEFDRV9DSEFSQUNURVJTLmhhcyhjKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGMgPT09IENoYXJzLkVRVUFMUykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZUF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJlZm9yZUF0dHJpYnV0ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVBdHRyaWJ1dGUoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVCZWZvcmVBdHRyaWJ1dGVWYWx1ZShjKSB7XG4gICAgICAgIGlmIChTUEFDRV9DSEFSQUNURVJTLmhhcyhjKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnNlY3Rpb25JbmRleCA9IDA7XG4gICAgICAgIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnF1b3RlQ2hhcmFjdGVyID0gYztcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPVxuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmliVHlwZSA9PT0gQXR0cmliVHlwZS5Db250ZW50XG4gICAgICAgICAgICAgICAgICAgID8gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZUVuY29kaW5nXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5hdHRyaWJUeXBlID09PSBBdHRyaWJUeXBlLkh0dHBFcXVpdlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBTdGF0ZS5NZXRhQXR0cmliSHR0cEVxdWl2VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogU3RhdGUuQXR0cmlidXRlVmFsdWVRdW90ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdHRyaWJUeXBlID09PSBBdHRyaWJUeXBlLkNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVFbmNvZGluZztcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVFbmNvZGluZyhjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF0dHJpYlR5cGUgPT09IEF0dHJpYlR5cGUuSHR0cEVxdWl2KSB7XG4gICAgICAgICAgICAvLyBXZSB1c2UgYHF1b3RlQ2hhcmFjdGVyID0gMGAgdG8gc2lnbmlmeSB0aGF0IHRoZSB2YWx1ZSBpcyB1bnF1b3RlZC5cbiAgICAgICAgICAgIHRoaXMucXVvdGVDaGFyYWN0ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9uSW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFBdHRyaWJIdHRwRXF1aXZWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQXR0cmliSHR0cEVxdWl2VmFsdWUoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQXR0cmlidXRlVmFsdWVVbnF1b3RlZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRoZSB2YWx1ZSBoYXMgdG8gYmUgYGNvbnRlbnQtdHlwZWBcbiAgICBzdGF0ZU1ldGFBdHRyaWJIdHRwRXF1aXZWYWx1ZShjKSB7XG4gICAgICAgIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5DT05URU5UX1RZUEUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5xdW90ZUNoYXJhY3RlciA9PT0gMFxuICAgICAgICAgICAgICAgID8gRU5EX09GX1VOUVVPVEVEX0FUVFJJQlVURV9WQUxVRS5oYXMoYylcbiAgICAgICAgICAgICAgICA6IGMgPT09IHRoaXMucXVvdGVDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZWVkc1ByYWdtYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFJlc3VsdCh0aGlzLm5lZWRzUHJhZ21hLCBSZXN1bHRUeXBlLk1FVEFfVEFHKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nb3RQcmFnbWEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nb3RQcmFnbWEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlQXR0cmlidXRlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFkdmFuY2VTZWN0aW9uSUMoU1RSSU5HUy5DT05URU5UX1RZUEUsIGMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nb3RQcmFnbWEgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucXVvdGVDaGFyYWN0ZXIgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5BdHRyaWJ1dGVWYWx1ZVVucXVvdGVkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQXR0cmlidXRlVmFsdWVRdW90ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVRdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlTWV0YUNvbnRlbnRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlVmFsdWUubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbmNvZGluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoLi4udGhpcy5hdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLmdvdFByYWdtYSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoZW5jb2RpbmcsIFJlc3VsdFR5cGUuTUVUQV9UQUcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmVlZHNQcmFnbWEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIERvbid0IG92ZXJyaWRlIGEgcHJldmlvdXMgcmVzdWx0LlxuICAgICAgICAgICAgdGhpcy5uZWVkc1ByYWdtYSA9IGVuY29kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgaGFuZGxlQXR0cmlidXRlVmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYlR5cGUgPT09IEF0dHJpYlR5cGUuQ2hhcnNldCkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHQoU3RyaW5nLmZyb21DaGFyQ29kZSguLi50aGlzLmF0dHJpYnV0ZVZhbHVlKSwgUmVzdWx0VHlwZS5NRVRBX1RBRyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkKGMpIHtcbiAgICAgICAgaWYgKFNQQUNFX0NIQVJBQ1RFUlMuaGFzKGMpKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlQXR0cmlidXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IENoYXJzLlNMQVNIIHx8IGMgPT09IENoYXJzLkdUKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQmVmb3JlVGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXR0cmliVHlwZSA9PT0gQXR0cmliVHlwZS5DaGFyc2V0KSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLnB1c2goYyB8IChjID49IDB4NDEgJiYgYyA8PSAweDVhID8gMHgyMCA6IDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kTWV0YUNvbnRlbnRFbmNvZGluZyhjKSB7XG4gICAgICAgIGlmICh0aGlzLmFkdmFuY2VTZWN0aW9uSUMoU1RSSU5HUy5DSEFSU0VULCBjKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4ID09PSBTVFJJTkdTLkNIQVJTRVQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXJlZCBhbm90aGVyIGBjYCwgYXNzdW1lIHdlIHN0YXJ0ZWQgb3Zlci5cbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gTnVtYmVyKGMgPT09IFNUUklOR1MuQ0hBUlNFVFswXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZUVuY29kaW5nKGMpIHtcbiAgICAgICAgaWYgKEVORF9PRl9VTlFVT1RFRF9BVFRSSUJVVEVfVkFMVUUuaGFzKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNlY3Rpb25JbmRleCA9PT0gU1RSSU5HUy5DSEFSU0VULmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGMgPT09IENoYXJzLkVRVUFMUykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmluZE1ldGFDb250ZW50RW5jb2RpbmcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVWYWx1ZShjKSB7XG4gICAgICAgIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnF1b3RlQ2hhcmFjdGVyID0gYztcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVF1b3RlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChFTkRfT0ZfVU5RVU9URURfQVRUUklCVVRFX1ZBTFVFLmhhcyhjKSkge1xuICAgICAgICAgICAgLy8gQ2FuJ3QgaGF2ZSBzcGFjZXMgaGVyZSwgYXMgaXQgd291bGQgbm8gbG9uZ2VyIGJlIHBhcnQgb2YgdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlUXVvdGVkKGMpIHtcbiAgICAgICAgaWYgKEVORF9PRl9VTlFVT1RFRF9BVFRSSUJVVEVfVkFMVUUuaGFzKGMpKSB7XG4gICAgICAgICAgICAvLyBRdW90ZXMgd2VyZW4ndCBtYXRjaGVkLCBzbyB3ZSdyZSBkb25lLlxuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gdGhpcy5xdW90ZUNoYXJhY3Rlcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXRhQ29udGVudFZhbHVlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQXR0cmlidXRlVmFsdWVVbnF1b3RlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUucHVzaChjIHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEgPyAweDIwIDogMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVVbnF1b3RlZChjKSB7XG4gICAgICAgIGlmIChFTkRfT0ZfVU5RVU9URURfQVRUUklCVVRFX1ZBTFVFLmhhcyhjKSB8fCBjID09PSBDaGFycy5TRU1JQ09MT04pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTWV0YUNvbnRlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkF0dHJpYnV0ZVZhbHVlVW5xdW90ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUucHVzaChjIHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEgPyAweDIwIDogMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWQoYykge1xuICAgICAgICBpZiAoaXNRdW90ZShjKSB8fCBTUEFDRV9DSEFSQUNURVJTLmhhcyhjKSB8fCBjID09PSBDaGFycy5TRU1JQ09MT04pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTWV0YUNvbnRlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgLy8gV2UgYXJlIGRvbmUgd2l0aCB0aGUgdmFsdWUsIGJ1dCBtaWdodCBub3QgYmUgYXQgdGhlIGVuZCBvZiB0aGUgYXR0cmlidXRlXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuQXR0cmlidXRlVmFsdWVRdW90ZWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVRdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZVZhbHVlLnB1c2goYyB8IChjID49IDB4NDEgJiYgYyA8PSAweDVhID8gMHgyMCA6IDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVF1b3RlZChjKSB7XG4gICAgICAgIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBvZiBvdXIgdmFsdWUuXG4gICAgICAgICAgICBpZiAoYyAhPT0gdGhpcy5xdW90ZUNoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgaGFuZGxlIHRoZSB2YWx1ZSBpZiBpbm5lciBxdW90ZXMgd2VyZSBtYXRjaGVkLlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTWV0YUNvbnRlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkF0dHJpYnV0ZVZhbHVlUXVvdGVkO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlUXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZS5wdXNoKGMgfCAoYyA+PSAweDQxICYmIGMgPD0gMHg1YSA/IDB4MjAgOiAwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlRW5jb2RpbmcoYykge1xuICAgICAgICBpZiAoYyA9PT0gdGhpcy5xdW90ZUNoYXJhY3Rlcikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUF0dHJpYnV0ZVZhbHVlUXVvdGVkKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmluZE1ldGFDb250ZW50RW5jb2RpbmcoYykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkQWZ0ZXJFbmNvZGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRBZnRlckVuY29kaW5nKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IENoYXJzLkVRVUFMUykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpIHtcbiAgICAgICAgICAgIC8vIExvb2sgZm9yIHRoZSBuZXh0IGVuY29kaW5nXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZUVuY29kaW5nO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZyhjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVWYWx1ZShjKSB7XG4gICAgICAgIGlmIChjID09PSB0aGlzLnF1b3RlQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVRdW90ZWQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNRdW90ZShjKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVF1b3RlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghU1BBQ0VfQ0hBUkFDVEVSUy5oYXMoYykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVVbnF1b3RlZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZUF0dHJpYnV0ZVZhbHVlUXVvdGVkKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IHRoaXMucXVvdGVDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQXR0cmlidXRlVmFsdWUoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdHRyaWJUeXBlID09PSBBdHRyaWJUeXBlLkNoYXJzZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUucHVzaChjIHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NWEgPyAweDIwIDogMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJlYWQgU1RSSU5HUy5YTUxfREVDTEFSQVRJT05cbiAgICBzdGF0ZVhNTERlY2xhcmF0aW9uKGMpIHtcbiAgICAgICAgaWYgKHRoaXMuYWR2YW5jZVNlY3Rpb24oU1RSSU5HUy5YTUxfREVDTEFSQVRJT04sIGMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWN0aW9uSW5kZXggPT09IFNUUklOR1MuWE1MX0RFQ0xBUkFUSU9OLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuWE1MRGVjbGFyYXRpb25CZWZvcmVFbmNvZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XZWlyZFRhZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0ZVhNTERlY2xhcmF0aW9uQmVmb3JlRW5jb2RpbmcoYykge1xuICAgICAgICBpZiAodGhpcy5hZHZhbmNlU2VjdGlvbihTVFJJTkdTLkVOQ09ESU5HLCBjKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VjdGlvbkluZGV4ID09PSBTVFJJTkdTLkVOQ09ESU5HLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5YTUxEZWNsYXJhdGlvbkFmdGVyRW5jb2Rpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gQ2hhcnMuR1QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXJlZCBhbm90aGVyIGBjYCwgYXNzdW1lIHdlIHN0YXJ0ZWQgb3Zlci5cbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbkluZGV4ID0gTnVtYmVyKGMgPT09IFNUUklOR1MuRU5DT0RJTkdbMF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlWE1MRGVjbGFyYXRpb25BZnRlckVuY29kaW5nKGMpIHtcbiAgICAgICAgaWYgKGMgPT09IENoYXJzLkVRVUFMUykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlhNTERlY2xhcmF0aW9uQmVmb3JlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA+IENoYXJzLlNQQUNFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV2VpcmRUYWc7XG4gICAgICAgICAgICB0aGlzLnN0YXRlV2VpcmRUYWcoYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGVYTUxEZWNsYXJhdGlvbkJlZm9yZVZhbHVlKGMpIHtcbiAgICAgICAgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlVmFsdWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5YTUxEZWNsYXJhdGlvblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPiBDaGFycy5TUEFDRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldlaXJkVGFnO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVdlaXJkVGFnKGMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlWE1MRGVjbGFyYXRpb25WYWx1ZShjKSB7XG4gICAgICAgIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlc3VsdChTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLnRoaXMuYXR0cmlidXRlVmFsdWUpLCBSZXN1bHRUeXBlLlhNTF9FTkNPRElORyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuV2VpcmRUYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gQ2hhcnMuR1QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5CZWZvcmVUYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8PSBDaGFycy5TUEFDRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldlaXJkVGFnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVWYWx1ZS5wdXNoKGMgfCAoYyA+PSAweDQxICYmIGMgPD0gMHg1YSA/IDB4MjAgOiAwKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd3JpdGUoYnVmZmVyKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZvciAoOyBpbmRleCA8IGJ1ZmZlci5sZW5ndGggJiYgdGhpcy5vZmZzZXQgKyBpbmRleCA8IHRoaXMubWF4Qnl0ZXM7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBidWZmZXJbaW5kZXhdO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CZWdpbjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQmVnaW4oYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJPTTE2QkU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJPTTE2QkUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJPTTE2TEU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJPTTE2TEUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJPTTg6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJPTTgoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLlVURjE2TEVfWE1MX1BSRUZJWDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVVRGMTZMRV9YTUxfUFJFRklYKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CZWdpbkxUOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCZWdpbkxUKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5VVEYxNkJFX1hNTF9QUkVGSVg6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVVURjE2QkVfWE1MX1BSRUZJWChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQmVmb3JlVGFnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wdGltaXphdGlvbjogU2tpcCBhbGwgY2hhcmFjdGVycyB1bnRpbCB3ZSBmaW5kIGEgYDxgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IGJ1ZmZlci5pbmRleE9mKENoYXJzLkxULCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBhcmUgZG9uZSB3aXRoIHRoaXMgYnVmZmVyLiBTdGF5IGluIHRoZSBzdGF0ZSBhbmQgdHJ5IG9uIHRoZSBuZXh0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUJlZm9yZVRhZyhDaGFycy5MVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQmVmb3JlVGFnTmFtZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlVGFnTmFtZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQmVmb3JlQ2xvc2VUYWdOYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVCZWZvcmVDbG9zZVRhZ05hbWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkNvbW1lbnRTdGFydDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ29tbWVudFN0YXJ0KGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5Db21tZW50RW5kOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDb21tZW50RW5kKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5UYWdOYW1lTWV0YToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGFnTmFtZU1ldGEoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLlRhZ05hbWVPdGhlcjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlVGFnTmFtZU90aGVyKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5YTUxEZWNsYXJhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlWE1MRGVjbGFyYXRpb24oYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLlhNTERlY2xhcmF0aW9uQmVmb3JlRW5jb2Rpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVhNTERlY2xhcmF0aW9uQmVmb3JlRW5jb2RpbmcoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLlhNTERlY2xhcmF0aW9uQWZ0ZXJFbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlWE1MRGVjbGFyYXRpb25BZnRlckVuY29kaW5nKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5YTUxEZWNsYXJhdGlvbkJlZm9yZVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVYTUxEZWNsYXJhdGlvbkJlZm9yZVZhbHVlKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5YTUxEZWNsYXJhdGlvblZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVYTUxEZWNsYXJhdGlvblZhbHVlKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5XZWlyZFRhZzoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlV2VpcmRUYWcoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkJlZm9yZUF0dHJpYnV0ZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlQXR0cmlidXRlKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQXR0cmliSHR0cEVxdWl2OiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQXR0cmliSHR0cEVxdWl2KGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQXR0cmliSHR0cEVxdWl2VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFBdHRyaWJIdHRwRXF1aXZWYWx1ZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUF0dHJpYkM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFBdHRyaWJDKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQXR0cmliQ29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUF0dHJpYkNvbnRlbnQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFBdHRyaWJDaGFyc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQXR0cmliQ2hhcnNldChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUF0dHJpYkFmdGVyTmFtZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUF0dHJpYkFmdGVyTmFtZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZUVuY29kaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlRW5jb2RpbmcoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRBZnRlckVuY29kaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQWZ0ZXJFbmNvZGluZyhjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQmVmb3JlVmFsdWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVF1b3RlZDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlUXVvdGVkKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVVbnF1b3RlZDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZUVuY29kaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVFbmNvZGluZyhjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZVZhbHVlKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5NZXRhQ29udGVudFZhbHVlVW5xdW90ZWRWYWx1ZVF1b3RlZDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVRdW90ZWQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlVW5xdW90ZWQoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkFueUF0dHJpYk5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUFueUF0dHJpYk5hbWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkFmdGVyQXR0cmlidXRlTmFtZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQWZ0ZXJBdHRyaWJ1dGVOYW1lKGMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBTdGF0ZS5CZWZvcmVBdHRyaWJ1dGVWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQmVmb3JlQXR0cmlidXRlVmFsdWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFN0YXRlLkF0dHJpYnV0ZVZhbHVlUXVvdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVBdHRyaWJ1dGVWYWx1ZVF1b3RlZChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgU3RhdGUuQXR0cmlidXRlVmFsdWVVbnF1b3RlZDoge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQXR0cmlidXRlVmFsdWVVbnF1b3RlZChjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IGluZGV4O1xuICAgIH1cbn1cbi8qKiBHZXQgdGhlIGVuY29kaW5nIGZvciB0aGUgcGFzc2VkIGJ1ZmZlci4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmNvZGluZyhidWZmZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzbmlmZmVyID0gbmV3IFNuaWZmZXIob3B0aW9ucyk7XG4gICAgc25pZmZlci53cml0ZShidWZmZXIpO1xuICAgIHJldHVybiBzbmlmZmVyLmVuY29kaW5nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c25pZmZlci5qcy5tYXAiXSwibmFtZXMiOlsibGFiZWxUb05hbWUiLCJTdGF0ZSIsIlJlc3VsdFR5cGUiLCJBdHRyaWJUeXBlIiwiQ2hhcnMiLCJTUEFDRV9DSEFSQUNURVJTIiwiU2V0IiwiU1BBQ0UiLCJMRiIsIkNSIiwiVEFCIiwiRU5EX09GX1VOUVVPVEVEX0FUVFJJQlVURV9WQUxVRSIsIkdUIiwidG9VaW50OEFycmF5Iiwic3RyIiwiYXJyIiwiVWludDhBcnJheSIsImxlbmd0aCIsImkiLCJjaGFyQ29kZUF0IiwiU1RSSU5HUyIsIlVURjhfQk9NIiwiVVRGMTZMRV9CT00iLCJVVEYxNkJFX0JPTSIsIlVURjE2TEVfWE1MX1BSRUZJWCIsIlVURjE2QkVfWE1MX1BSRUZJWCIsIlhNTF9ERUNMQVJBVElPTiIsIkVOQ09ESU5HIiwiTUVUQSIsIkhUVFBfRVFVSVYiLCJDT05URU5UIiwiQ09OVEVOVF9UWVBFIiwiQ0hBUlNFVCIsIkNPTU1FTlRfU1RBUlQiLCJDT01NRU5UX0VORCIsImlzQXNjaWlBbHBoYSIsImMiLCJVcHBlckEiLCJVcHBlcloiLCJMb3dlckEiLCJMb3dlcloiLCJpc1F1b3RlIiwiRFFVT1RFIiwiU1FVT1RFIiwiU25pZmZlciIsInNldFJlc3VsdCIsImxhYmVsIiwidHlwZSIsInJlc3VsdFR5cGUiLCJERUZBVUxUIiwiZW5jb2RpbmciLCJNRVRBX1RBRyIsIlhNTF9FTkNPRElORyIsImNvbnN0cnVjdG9yIiwibWF4Qnl0ZXMiLCJ1c2VyRW5jb2RpbmciLCJ0cmFuc3BvcnRMYXllckVuY29kaW5nTGFiZWwiLCJkZWZhdWx0RW5jb2RpbmciLCJvZmZzZXQiLCJzdGF0ZSIsIkJlZ2luIiwic2VjdGlvbkluZGV4IiwiYXR0cmliVHlwZSIsIk5vbmUiLCJnb3RQcmFnbWEiLCJuZWVkc1ByYWdtYSIsImluTWV0YVRhZyIsInF1b3RlQ2hhcmFjdGVyIiwiYXR0cmlidXRlVmFsdWUiLCJQQVNTRUQiLCJzdGF0ZUJlZ2luIiwiQk9NMTZCRSIsIkJPTTE2TEUiLCJCT004IiwiTklMIiwiTFQiLCJCZWdpbkxUIiwiQmVmb3JlVGFnIiwic3RhdGVCZWdpbkxUIiwiUVVFU1RJT04iLCJYTUxEZWNsYXJhdGlvbiIsIkJlZm9yZVRhZ05hbWUiLCJzdGF0ZUJlZm9yZVRhZ05hbWUiLCJzdGF0ZVVURjE2QkVfWE1MX1BSRUZJWCIsImFkdmFuY2VTZWN0aW9uIiwiWE1MX1BSRUZJWCIsInN0YXRlQmVmb3JlVGFnIiwic3RhdGVVVEYxNkxFX1hNTF9QUkVGSVgiLCJzdGF0ZUJPTTE2TEUiLCJCT00iLCJzdGF0ZUJPTTE2QkUiLCJzdGF0ZUJPTTgiLCJUYWdOYW1lTWV0YSIsIlRhZ05hbWVPdGhlciIsIlNMQVNIIiwiQmVmb3JlQ2xvc2VUYWdOYW1lIiwiRVhDTEFNQVRJT04iLCJDb21tZW50U3RhcnQiLCJXZWlyZFRhZyIsInN0YXRlQmVmb3JlQ2xvc2VUYWdOYW1lIiwic3RhdGVDb21tZW50U3RhcnQiLCJDb21tZW50RW5kIiwic3RhdGVXZWlyZFRhZyIsInN0YXRlQ29tbWVudEVuZCIsIkRBU0giLCJhZHZhbmNlU2VjdGlvbklDIiwic2VjdGlvbiIsInN0YXRlVGFnTmFtZU1ldGEiLCJoYXMiLCJCZWZvcmVBdHRyaWJ1dGUiLCJzdGF0ZVRhZ05hbWVPdGhlciIsInN0YXRlQmVmb3JlQXR0cmlidXRlIiwibG93ZXIiLCJNZXRhQXR0cmliSHR0cEVxdWl2IiwiTWV0YUF0dHJpYkMiLCJBbnlBdHRyaWJOYW1lIiwiaGFuZGxlTWV0YUF0dHJpYiIsIk1ldGFBdHRyaWJBZnRlck5hbWUiLCJzdGF0ZUFueUF0dHJpYk5hbWUiLCJzdGF0ZU1ldGFBdHRyaWJIdHRwRXF1aXYiLCJIdHRwRXF1aXYiLCJzdGF0ZU1ldGFBdHRyaWJDIiwiTWV0YUF0dHJpYkNoYXJzZXQiLCJNZXRhQXR0cmliQ29udGVudCIsInN0YXRlTWV0YUF0dHJpYkNoYXJzZXQiLCJDaGFyc2V0Iiwic3RhdGVNZXRhQXR0cmliQ29udGVudCIsIkNvbnRlbnQiLCJzdGF0ZU1ldGFBdHRyaWJBZnRlck5hbWUiLCJFUVVBTFMiLCJBZnRlckF0dHJpYnV0ZU5hbWUiLCJzdGF0ZUFmdGVyQXR0cmlidXRlTmFtZSIsIkJlZm9yZUF0dHJpYnV0ZVZhbHVlIiwic3RhdGVCZWZvcmVBdHRyaWJ1dGVWYWx1ZSIsIk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZyIsIk1ldGFBdHRyaWJIdHRwRXF1aXZWYWx1ZSIsIkF0dHJpYnV0ZVZhbHVlUXVvdGVkIiwiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkQmVmb3JlRW5jb2RpbmciLCJzdGF0ZU1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZUVuY29kaW5nIiwic3RhdGVNZXRhQXR0cmliSHR0cEVxdWl2VmFsdWUiLCJBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkIiwic3RhdGVBdHRyaWJ1dGVWYWx1ZVVucXVvdGVkIiwic3RhdGVBdHRyaWJ1dGVWYWx1ZVF1b3RlZCIsImhhbmRsZU1ldGFDb250ZW50VmFsdWUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJoYW5kbGVBdHRyaWJ1dGVWYWx1ZSIsInB1c2giLCJmaW5kTWV0YUNvbnRlbnRFbmNvZGluZyIsIk51bWJlciIsIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZEJlZm9yZVZhbHVlIiwic3RhdGVNZXRhQ29udGVudFZhbHVlVW5xdW90ZWRCZWZvcmVWYWx1ZSIsIk1ldGFDb250ZW50VmFsdWVVbnF1b3RlZFZhbHVlUXVvdGVkIiwiTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVVbnF1b3RlZCIsInN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVVbnF1b3RlZCIsInN0YXRlTWV0YUNvbnRlbnRWYWx1ZVVucXVvdGVkVmFsdWVRdW90ZWQiLCJTRU1JQ09MT04iLCJzdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRWYWx1ZVVucXVvdGVkIiwic3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkVmFsdWVRdW90ZWQiLCJzdGF0ZU1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVFbmNvZGluZyIsIk1ldGFDb250ZW50VmFsdWVRdW90ZWRBZnRlckVuY29kaW5nIiwic3RhdGVNZXRhQ29udGVudFZhbHVlUXVvdGVkQWZ0ZXJFbmNvZGluZyIsIk1ldGFDb250ZW50VmFsdWVRdW90ZWRCZWZvcmVWYWx1ZSIsInN0YXRlTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZEJlZm9yZVZhbHVlIiwiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlUXVvdGVkIiwiTWV0YUNvbnRlbnRWYWx1ZVF1b3RlZFZhbHVlVW5xdW90ZWQiLCJzdGF0ZVhNTERlY2xhcmF0aW9uIiwiWE1MRGVjbGFyYXRpb25CZWZvcmVFbmNvZGluZyIsInN0YXRlWE1MRGVjbGFyYXRpb25CZWZvcmVFbmNvZGluZyIsIlhNTERlY2xhcmF0aW9uQWZ0ZXJFbmNvZGluZyIsInN0YXRlWE1MRGVjbGFyYXRpb25BZnRlckVuY29kaW5nIiwiWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZSIsInN0YXRlWE1MRGVjbGFyYXRpb25CZWZvcmVWYWx1ZSIsIlhNTERlY2xhcmF0aW9uVmFsdWUiLCJzdGF0ZVhNTERlY2xhcmF0aW9uVmFsdWUiLCJ3cml0ZSIsImJ1ZmZlciIsImluZGV4IiwiaWR4IiwiaW5kZXhPZiIsImdldEVuY29kaW5nIiwib3B0aW9ucyIsInNuaWZmZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/encoding-sniffer/dist/esm/sniffer.js\n");

/***/ })

};
;