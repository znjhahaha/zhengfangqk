# 日志面板功能说明

## 功能概述

在课程信息页面右侧添加了一个日志面板，用于显示各种操作的详细日志信息，包括获取课程、抢课等操作的实时状态和结果。

## 主要特性

### 1. 实时日志显示
- 显示所有操作的详细日志
- 实时更新，无需手动刷新
- 支持不同类型的日志（信息、成功、警告、错误）

### 2. 日志分类
- **INFO**: 一般信息（蓝色）
- **SUCCESS**: 成功操作（绿色）
- **WARNING**: 警告信息（黄色）
- **ERROR**: 错误信息（红色）

### 3. 日志管理
- 自动保持最近100条日志
- 支持手动清空日志
- 显示时间戳和日志类型

### 4. 界面设计
- 右侧滑出式面板
- 终端风格的黑色背景
- 等宽字体显示
- 响应式设计

## 使用方法

### 1. 查看日志
- 日志面板始终显示在页面右侧
- 日志按时间顺序显示
- 每条日志显示时间戳、类型和详细信息
- 支持滚动查看历史日志

### 2. 管理日志
- 点击垃圾桶图标清空所有日志
- 日志面板无法关闭，始终可见

## 日志内容

### 课程获取日志
```
[INFO] 开始获取可选课程...
[SUCCESS] 可选课程获取成功，共25门课程 (1234ms)
[INFO] 开始获取已选课程...
[SUCCESS] 已选课程获取成功，共3门课程 (856ms)
```

### 抢课操作日志
```
[INFO] 开始抢课: 高等数学
[SUCCESS] 课程 "高等数学" 抢课成功！
[INFO] 开始批量抢课，共3门课程
[SUCCESS] "线性代数" 抢课成功！
[ERROR] "概率论" 抢课失败: 课程已满
[SUCCESS] 批量抢课完成！成功: 2门，失败: 1门
```

### 错误和警告日志
```
[WARNING] 当前没有已选课程 (234ms)
[ERROR] 获取可选课程失败: Cookie未设置
[ERROR] 课程 "数据结构" 抢课异常: 网络连接超时
```

## 技术实现

### 1. 状态管理
```typescript
const [logs, setLogs] = useState<Array<{
  id: string
  timestamp: Date
  type: 'info' | 'success' | 'warning' | 'error'
  message: string
}>>([])
const [showLogPanel, setShowLogPanel] = useState(false)
```

### 2. 日志添加函数
```typescript
const addLog = useCallback((type: 'info' | 'success' | 'warning' | 'error', message: string) => {
  const newLog = {
    id: `${Date.now()}-${Math.random()}`,
    timestamp: new Date(),
    type,
    message
  }
  setLogs(prev => [...prev.slice(-99), newLog]) // 保持最近100条日志
}, [])
```

### 3. 界面布局
- 使用Flexbox布局，左侧主要内容，右侧日志面板
- 日志面板宽度固定为320px
- 支持响应式显示

## 界面特点

### 1. 视觉设计
- 终端风格的黑色背景
- 彩色边框区分日志类型
- 等宽字体便于阅读
- 平滑的动画效果

### 2. 交互体验
- 固定显示在右侧，不遮挡主要内容
- 实时滚动到最新日志
- 简洁的清空按钮

### 3. 性能优化
- 限制日志数量，避免内存溢出
- 使用memo优化渲染性能
- 平滑的动画过渡

## 日志类型说明

### INFO (信息)
- 操作开始提示
- 一般状态信息
- 缓存状态提示

### SUCCESS (成功)
- 操作成功完成
- 数据获取成功
- 抢课成功

### WARNING (警告)
- 非致命性错误
- 数据为空的情况
- 用户操作提醒

### ERROR (错误)
- 操作失败
- 网络错误
- 系统异常

## 使用场景

1. **调试问题**: 查看详细的操作日志，定位问题原因
2. **监控状态**: 实时了解系统运行状态
3. **操作记录**: 查看历史操作记录
4. **性能分析**: 通过时间戳分析操作耗时

## 注意事项

1. **日志数量**: 自动保持最近100条日志，超出会自动删除旧日志
2. **内存使用**: 日志存储在内存中，页面刷新后会清空
3. **性能影响**: 日志记录对性能影响很小，但大量日志可能影响渲染
4. **隐私保护**: 日志不包含敏感信息，仅记录操作状态

## 未来计划

1. **日志导出**: 支持导出日志到文件
2. **日志过滤**: 支持按类型过滤日志
3. **日志搜索**: 支持搜索特定日志内容
4. **持久化存储**: 将日志保存到本地存储
